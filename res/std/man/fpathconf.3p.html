<!DOCTYPE html><html><!-- This is an automatically generated file.  Do not edit.
   et
 --><head>
<meta name="dc.identifier" content="res/5da1a19784657ccb3c81599acb52329767d4ed98">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>FPATHCONF(3P)</title>
<link id="res-style" rel="stylesheet" href="/res/dist/res/style.css" type="text/css">
</head>
<body>
<div id="book-container">
<table class="head">
  <tbody><tr>
    <td class="head-ltitle">FPATHCONF(3P)</td>
    <td class="head-vol">POSIX Programmer's Manual</td>
    <td class="head-rtitle">FPATHCONF(3P)</td>
  </tr>
</tbody></table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="PROLOG"><a class="permalink" href="#PROLOG">PROLOG</a></h1>
<p class="Pp">This manual page is part of the POSIX Programmer's Manual. The
    Linux implementation of this interface may differ (consult the corresponding
    Linux manual page for details of Linux behavior), or the interface may not
    be implemented on Linux.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">fpathconf, pathconf — get configurable pathname
  variables</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>#include &lt;unistd.h&gt;</pre>
<pre>long fpathconf(int <i>fildes</i>, int <i>name</i>);
long pathconf(const char *<i>path</i>, int <i>name</i>);</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <i>fpathconf</i>() and <i>pathconf</i>() functions shall
    determine the current value of a configurable limit or option
    (<i>variable</i>) that is associated with a file or directory.</p>
<p class="Pp">For <i>pathconf</i>(), the <i>path</i> argument points to the
    pathname of a file or directory.</p>
<p class="Pp">For <i>fpathconf</i>(), the <i>fildes</i> argument is an open file
    descriptor.</p>
<p class="Pp">The <i>name</i> argument represents the variable to be queried
    relative to that file or directory. Implementations shall support all of the
    variables listed in the following table and may support others. The
    variables in the following table come from <i>&lt;limits.h&gt;</i> or
    <i>&lt;unistd.h&gt;</i> and the symbolic constants, defined in
    <i>&lt;unistd.h&gt;</i>, are the corresponding values used for
  <i>name</i>.</p>
<table class="tbl" style="border-style: solid;">
  <tbody><tr style="border-bottom-style: solid;">
    <td style="text-align: center; border-right-style: solid;"><b>Variable</b></td>
    <td style="text-align: center; border-right-style: solid;"><b>Value of
      </b><i>name</i><b></b></td>
    <td style="text-align: center;"><b>Requirements</b></td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">{FILESIZEBITS}</td>
    <td style="border-right-style: solid;">_PC_FILESIZEBITS</td>
    <td>4,7</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">{LINK_MAX}</td>
    <td style="border-right-style: solid;">_PC_LINK_MAX</td>
    <td>1</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">{MAX_CANON}</td>
    <td style="border-right-style: solid;">_PC_MAX_CANON</td>
    <td>2</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">{MAX_INPUT}</td>
    <td style="border-right-style: solid;">_PC_MAX_INPUT</td>
    <td>2</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">{NAME_MAX}</td>
    <td style="border-right-style: solid;">_PC_NAME_MAX</td>
    <td>3,4</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">{PATH_MAX}</td>
    <td style="border-right-style: solid;">_PC_PATH_MAX</td>
    <td>4,5</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">{PIPE_BUF}</td>
    <td style="border-right-style: solid;">_PC_PIPE_BUF</td>
    <td>6</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">{POSIX2_SYMLINKS}</td>
    <td style="border-right-style: solid;">_PC_2_SYMLINKS</td>
    <td>4</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">{POSIX_ALLOC_SIZE_MIN}</td>
    <td style="border-right-style: solid;">_PC_ALLOC_SIZE_MIN</td>
    <td>10</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">{POSIX_REC_INCR_XFER_SIZE}</td>
    <td style="border-right-style: solid;">_PC_REC_INCR_XFER_SIZE</td>
    <td>10</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">{POSIX_REC_MAX_XFER_SIZE}</td>
    <td style="border-right-style: solid;">_PC_REC_MAX_XFER_SIZE</td>
    <td>10</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">{POSIX_REC_MIN_XFER_SIZE}</td>
    <td style="border-right-style: solid;">_PC_REC_MIN_XFER_SIZE</td>
    <td>10</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">{POSIX_REC_XFER_ALIGN}</td>
    <td style="border-right-style: solid;">_PC_REC_XFER_ALIGN</td>
    <td>10</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">{SYMLINK_MAX}</td>
    <td style="border-right-style: solid;">_PC_SYMLINK_MAX</td>
    <td>4,9</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">_POSIX_CHOWN_RESTRICTED</td>
    <td style="border-right-style: solid;">_PC_CHOWN_RESTRICTED</td>
    <td>7</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">_POSIX_NO_TRUNC</td>
    <td style="border-right-style: solid;">_PC_NO_TRUNC</td>
    <td>3,4</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">_POSIX_VDISABLE</td>
    <td style="border-right-style: solid;">_PC_VDISABLE</td>
    <td>2</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">_POSIX_ASYNC_IO</td>
    <td style="border-right-style: solid;">_PC_ASYNC_IO</td>
    <td>8</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">_POSIX_PRIO_IO</td>
    <td style="border-right-style: solid;">_PC_PRIO_IO</td>
    <td>8</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">_POSIX_SYNC_IO</td>
    <td style="border-right-style: solid;">_PC_SYNC_IO</td>
    <td>8</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">_POSIX_TIMESTAMP_RESOLUTION</td>
    <td style="border-right-style: solid;">_PC_TIMESTAMP_RESOLUTION</td>
    <td>1</td>
  </tr>
</tbody></table>
<section class="Ss">
<h2 class="Ss" id="Requirements"><a class="permalink" href="#Requirements">Requirements</a></h2>
<dl class="Bl-tag">
  <dt> 1.</dt>
  <dd>If <i>path</i> or <i>fildes</i> refers to a directory, the value returned
      shall apply to the directory itself.</dd>
  <dt> 2.</dt>
  <dd>If <i>path</i> or <i>fildes</i> does not refer to a terminal file, it is
      unspecified whether an implementation supports an association of the
      variable name with the specified file.</dd>
  <dt> 3.</dt>
  <dd>If <i>path</i> or <i>fildes</i> refers to a directory, the value returned
      shall apply to filenames within the directory.</dd>
  <dt> 4.</dt>
  <dd>If <i>path</i> or <i>fildes</i> does not refer to a directory, it is
      unspecified whether an implementation supports an association of the
      variable name with the specified file.</dd>
  <dt> 5.</dt>
  <dd>If <i>path</i> or <i>fildes</i> refers to a directory, the value returned
      shall be the maximum length of a relative pathname that would not cross
      any mount points when the specified directory is the working
    directory.</dd>
  <dt> 6.</dt>
  <dd>If <i>path</i> refers to a FIFO, or <i>fildes</i> refers to a pipe or
      FIFO, the value returned shall apply to the referenced object. If
      <i>path</i> or <i>fildes</i> refers to a directory, the value returned
      shall apply to any FIFO that exists or can be created within the
      directory. If <i>path</i> or <i>fildes</i> refers to any other type of
      file, it is unspecified whether an implementation supports an association
      of the variable name with the specified file.</dd>
  <dt> 7.</dt>
  <dd>If <i>path</i> or <i>fildes</i> refers to a directory, the value returned
      shall apply to any files, other than directories, that exist or can be
      created within the directory.</dd>
  <dt> 8.</dt>
  <dd>If <i>path</i> or <i>fildes</i> refers to a directory, it is unspecified
      whether an implementation supports an association of the variable name
      with the specified file.</dd>
  <dt> 9.</dt>
  <dd>If <i>path</i> or <i>fildes</i> refers to a directory, the value returned
      shall be the maximum length of the string that a symbolic link in that
      directory can contain.</dd>
  <dt>10.</dt>
  <dd>If <i>path</i> or <i>fildes</i> des does not refer to a regular file, it
      is unspecified whether an implementation supports an association of the
      variable name with the specified file. If an implementation supports such
      an association for other than a regular file, the value returned is
      unspecified.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp">If <i>name</i> is an invalid value, both <i>pathconf</i>() and
    <i>fpathconf</i>() shall return -1 and set <i>errno</i> to indicate the
    error.</p>
<p class="Pp">If the variable corresponding to <i>name</i> is described in
    <i>&lt;limits.h&gt;</i> as a maximum or minimum value and the variable has
    no limit for the path or file descriptor, both <i>pathconf</i>() and
    <i>fpathconf</i>() shall return -1 without changing <i>errno</i>. Note that
    indefinite limits do not imply infinite limits; see
  <i>&lt;limits.h&gt;</i>.</p>
<p class="Pp">If the implementation needs to use <i>path</i> to determine the
    value of <i>name</i> and the implementation does not support the association
    of <i>name</i> with the file specified by <i>path</i>, or if the process did
    not have appropriate privileges to query the file specified by <i>path</i>,
    or <i>path</i> does not exist, <i>pathconf</i>() shall return -1 and set
    <i>errno</i> to indicate the error.</p>
<p class="Pp">If the implementation needs to use <i>fildes</i> to determine the
    value of <i>name</i> and the implementation does not support the association
    of <i>name</i> with the file specified by <i>fildes</i>, or if <i>fildes</i>
    is an invalid file descriptor, <i>fpathconf</i>() shall return -1 and set
    <i>errno</i> to indicate the error.</p>
<p class="Pp">Otherwise, <i>pathconf</i>() or <i>fpathconf</i>() shall return
    the current variable value for the file or directory without changing
    <i>errno</i>. The value returned shall not be more restrictive than the
    corresponding value available to the application when it was compiled with
    the implementation's <i>&lt;limits.h&gt;</i> or <i>&lt;unistd.h&gt;</i>.</p>
<p class="Pp">If the variable corresponding to <i>name</i> is dependent on an
    unsupported option, the results are unspecified.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ERRORS"><a class="permalink" href="#ERRORS">ERRORS</a></h1>
<p class="Pp">The <i>pathconf</i>() function shall fail if:</p>
<dl class="Bl-tag">
  <dt id="EINVAL"><a class="permalink" href="#EINVAL"><b>EINVAL</b></a></dt>
  <dd>The value of <i>name</i> is not valid.</dd>
  <dt id="EOVERFLOW"><a class="permalink" href="#EOVERFLOW"><b>EOVERFLOW</b></a></dt>
  <dd>The value of <i>name</i> is _PC_TIMESTAMP_RESOLUTION and the resolution is
      larger than {LONG_MAX}.
    <br>
  </dd>
</dl>
<p class="Pp">The <i>pathconf</i>() function may fail if:</p>
<dl class="Bl-tag">
  <dt id="EACCES"><a class="permalink" href="#EACCES"><b>EACCES</b></a></dt>
  <dd>Search permission is denied for a component of the path prefix.</dd>
  <dt id="EINVAL~2"><a class="permalink" href="#EINVAL~2"><b>EINVAL</b></a></dt>
  <dd>The implementation does not support an association of the variable
      <i>name</i> with the specified file.</dd>
  <dt id="ELOOP"><a class="permalink" href="#ELOOP"><b>ELOOP</b></a></dt>
  <dd>A loop exists in symbolic links encountered during resolution of the
      <i>path</i> argument.</dd>
  <dt id="ELOOP~2"><a class="permalink" href="#ELOOP~2"><b>ELOOP</b></a></dt>
  <dd>More than {SYMLOOP_MAX} symbolic links were encountered during resolution
      of the <i>path</i> argument.</dd>
  <dt id="ENAMETOOLONG"><a class="permalink" href="#ENAMETOOLONG"><b>ENAMETOOLONG</b></a></dt>
  <dd>
    <br>
    The length of a component of a pathname is longer than {NAME_MAX}.</dd>
  <dt id="ENAMETOOLONG~2"><a class="permalink" href="#ENAMETOOLONG~2"><b>ENAMETOOLONG</b></a></dt>
  <dd>
    <br>
    The length of a pathname exceeds {PATH_MAX}, or pathname resolution of a
      symbolic link produced an intermediate result with a length that exceeds
      {PATH_MAX}.</dd>
  <dt id="ENOENT"><a class="permalink" href="#ENOENT"><b>ENOENT</b></a></dt>
  <dd>A component of <i>path</i> does not name an existing file or <i>path</i>
      is an empty string.</dd>
  <dt id="ENOTDIR"><a class="permalink" href="#ENOTDIR"><b>ENOTDIR</b></a></dt>
  <dd>A component of the path prefix names an existing file that is neither a
      directory nor a symbolic link to a directory, or the <i>path</i> argument
      contains at least one non-&lt;slash&gt; character and ends with one or
      more trailing &lt;slash&gt; characters and the last pathname component
      names an existing file that is neither a directory nor a symbolic link to
      a directory.</dd>
</dl>
<p class="Pp">The <i>fpathconf</i>() function shall fail if:</p>
<dl class="Bl-tag">
  <dt id="EINVAL~3"><a class="permalink" href="#EINVAL~3"><b>EINVAL</b></a></dt>
  <dd>The value of <i>name</i> is not valid.</dd>
  <dt id="EOVERFLOW~2"><a class="permalink" href="#EOVERFLOW~2"><b>EOVERFLOW</b></a></dt>
  <dd>The value of <i>name</i> is _PC_TIMESTAMP_RESOLUTION and the resolution is
      larger than {LONG_MAX}.</dd>
</dl>
<p class="Pp">The <i>fpathconf</i>() function may fail if:</p>
<dl class="Bl-tag">
  <dt id="EBADF"><a class="permalink" href="#EBADF"><b>EBADF</b></a></dt>
  <dd>The <i>fildes</i> argument is not a valid file descriptor.</dd>
  <dt id="EINVAL~4"><a class="permalink" href="#EINVAL~4"><b>EINVAL</b></a></dt>
  <dd>The implementation does not support an association of the variable
      <i>name</i> with the specified file.</dd>
</dl>
<p class="Pp"><i>The following sections are informative.</i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="APPLICATION_USAGE"><a class="permalink" href="#APPLICATION_USAGE">APPLICATION
  USAGE</a></h1>
<p class="Pp">Application developers should check whether an option, such as
    _POSIX_ADVISORY_INFO, is supported prior to obtaining and using values for
    related variables such as {POSIX_ALLOC_SIZE_MIN}.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RATIONALE"><a class="permalink" href="#RATIONALE">RATIONALE</a></h1>
<p class="Pp">The <i>pathconf</i>() function was proposed immediately after the
    <i>sysconf</i>() function when it was realized that some configurable values
    may differ across file system, directory, or device boundaries.</p>
<p class="Pp">For example, {NAME_MAX} frequently changes between System V and
    BSD-based file systems; System V uses a maximum of 14, BSD 255. On an
    implementation that provides both types of file systems, an application
    would be forced to limit all pathname components to 14 bytes, as this would
    be the value specified in <i>&lt;limits.h&gt;</i> on such a system.</p>
<p class="Pp">Therefore, various useful values can be queried on any pathname or
    file descriptor, assuming that appropriate privileges are in place.</p>
<p class="Pp">The value returned for the variable {PATH_MAX} indicates the
    longest relative pathname that could be given if the specified directory is
    the current working directory of the process. A process may not always be
    able to generate a name that long and use it if a subdirectory in the
    pathname crosses into a more restrictive file system. Note that
    implementations are allowed to accept pathnames longer than {PATH_MAX} bytes
    long, but are not allowed to return pathnames longer than this unless the
    user specifies a larger buffer using a function that provides a buffer size
    argument.</p>
<p class="Pp">The value returned for the variable _POSIX_CHOWN_RESTRICTED also
    applies to directories that do not have file systems mounted on them. The
    value may change when crossing a mount point, so applications that need to
    know should check for each directory. (An even easier check is to try the
    <i>chown</i>() function and look for an error in case it happens.)</p>
<p class="Pp">Unlike the values returned by <i>sysconf</i>(), the
    pathname-oriented variables are potentially more volatile and are not
    guaranteed to remain constant throughout the lifetime of the process. For
    example, in between two calls to <i>pathconf</i>(), the file system in
    question may have been unmounted and remounted with different
    characteristics.</p>
<p class="Pp">Also note that most of the errors are optional. If one of the
    variables always has the same value on an implementation, the implementation
    need not look at <i>path</i> or <i>fildes</i> to return that value and is,
    therefore, not required to detect any of the errors except the meaning of
    <b>[EINVAL]</b> that indicates that the value of <i>name</i> is not valid
    for that variable, and the <b>[EOVERFLOW]</b> error that indicates the value
    to be returned is larger than {LONG_MAX}.</p>
<p class="Pp">If the value of any of the limits is unspecified (logically
    infinite), they will not be defined in <i>&lt;limits.h&gt;</i> and the
    <i>pathconf</i>() and <i>fpathconf</i>() functions return -1 without
    changing <i>errno</i>. This can be distinguished from the case of giving an
    unrecognized <i>name</i> argument because <i>errno</i> is set to
    <b>[EINVAL]</b> in this case.</p>
<p class="Pp">Since -1 is a valid return value for the <i>pathconf</i>() and
    <i>fpathconf</i>() functions, applications should set <i>errno</i> to zero
    before calling them and check <i>errno</i> only if the return value is
  -1.</p>
<p class="Pp">For the case of {SYMLINK_MAX}, since both <i>pathconf</i>() and
    <i>open</i>() follow symbolic links, there is no way that <i>path</i> or
    <i>fildes</i> could refer to a symbolic link.</p>
<p class="Pp">It was the intention of IEEE&nbsp;Std 1003.1d‐1999 that
    the following variables:</p>
<p class="Pp"></p>
<div class="Bd-indent">{POSIX_ALLOC_SIZE_MIN} {POSIX_REC_INCR_XFER_SIZE}
  {POSIX_REC_MAX_XFER_SIZE} {POSIX_REC_MIN_XFER_SIZE}
  {POSIX_REC_XFER_ALIGN}</div>
<p class="Pp">only applied to regular files, but Note 10 also permits
    implementation of the advisory semantics on other file types unique to an
    implementation (for example, a character special device).</p>
<p class="Pp">The <b>[EOVERFLOW]</b> error for _PC_TIMESTAMP_RESOLUTION cannot
    occur on POSIX-compliant file systems because POSIX requires a timestamp
    resolution no larger than one second. Even on 32-bit systems, this can be
    represented without overflow.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FUTURE_DIRECTIONS"><a class="permalink" href="#FUTURE_DIRECTIONS">FUTURE
  DIRECTIONS</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><i><i>chown</i>()</i>, <i><i>confstr</i>()</i>,
    <i><i>sysconf</i>()</i></p>
<p class="Pp">The Base Definitions volume of POSIX.1‐2017,
    <i><b>&lt;limits.h&gt;</b></i>, <i><b>&lt;unistd.h&gt;</b></i></p>
<p class="Pp">The Shell and Utilities volume of POSIX.1‐2017,
    <i><i>getconf</i></i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Portions of this text are reprinted and reproduced in electronic
    form from IEEE Std 1003.1-2017, Standard for Information Technology --
    Portable Operating System Interface (POSIX), The Open Group Base
    Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of
    Electrical and Electronics Engineers, Inc and The Open Group. In the event
    of any discrepancy between this version and the original IEEE and The Open
    Group Standard, the original IEEE and The Open Group Standard is the referee
    document. The original Standard can be obtained online at
    http://www.opengroup.org/unix/online.html .</p>
<p class="Pp">Any typographical or formatting errors that appear in this page
    are most likely to have been introduced during the conversion of the source
    files to man page format. To report such errors, see
    https://www.kernel.org/doc/man-pages/reporting_bugs.html .</p>
</section>
</div>
<table class="foot">
  <tbody><tr>
    <td class="foot-date">2017</td>
    <td class="foot-os">IEEE/The Open Group</td>
  </tr>
</tbody></table>
</div>


<script id="res-script" src="/res/dist/res/main.js" type="text/javascript"></script>
</body></html>