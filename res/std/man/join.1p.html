<!DOCTYPE html><html><!-- This is an automatically generated file.  Do not edit.
   et
 --><head>
<meta name="dc.identifier" content="res/6c2f675acb45a828841f50a83005a23070776d6a">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>JOIN(1P)</title>
<link id="res-style" rel="stylesheet" href="/res/dist/res/style.css" type="text/css">
</head>
<body>
<div id="book-container">
<table class="head">
  <tbody><tr>
    <td class="head-ltitle">JOIN(1P)</td>
    <td class="head-vol">POSIX Programmer's Manual</td>
    <td class="head-rtitle">JOIN(1P)</td>
  </tr>
</tbody></table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="PROLOG"><a class="permalink" href="#PROLOG">PROLOG</a></h1>
<p class="Pp">This manual page is part of the POSIX Programmer's Manual. The
    Linux implementation of this interface may differ (consult the corresponding
    Linux manual page for details of Linux behavior), or the interface may not
    be implemented on Linux.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">join — relational database operator</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>join <b>[</b>-a <i>file_number</i>|-v <i>file_number</i><b>] [</b>-e <i>string</i><b>] [</b>-o <i>list</i><b>] [</b>-t <i>char</i><b>]</b>
<br>
<b>    [</b>-1 <i>field</i><b>] [</b>-2 <i>field</i><b>]</b><i> file1 file2</i></pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <i>join</i> utility shall perform an equality join on the
    files <i>file1</i> and <i>file2</i>. The joined files shall be written to
    the standard output.</p>
<p class="Pp">The join field is a field in each file on which the files are
    compared. The <i>join</i> utility shall write one line in the output for
    each pair of lines in <i>file1</i> and <i>file2</i> that have join fields
    that collate equally. The output line by default shall consist of the join
    field, then the remaining fields from <i>file1</i>, then the remaining
    fields from <i>file2</i>. This format can be changed by using the <b>-o</b>
    option (see below). The <b>-a</b> option can be used to add unmatched lines
    to the output. The <b>-v</b> option can be used to output only unmatched
    lines.</p>
<p class="Pp">The files <i>file1</i> and <i>file2</i> shall be ordered in the
    collating sequence of <i>sort</i> <b>-b</b> on the fields on which they
    shall be joined, by default the first in each line. All selected output
    shall be written in the same collating sequence.</p>
<p class="Pp">The default input field separators shall be &lt;blank&gt;
    characters. In this case, multiple separators shall count as one field
    separator, and leading separators shall be ignored. The default output field
    separator shall be a &lt;space&gt;.</p>
<p class="Pp">The field separator and collating sequence can be changed by using
    the <b>-t</b> option (see below).</p>
<p class="Pp">If the same key appears more than once in either file, all
    combinations of the set of remaining fields in <i>file1</i> and the set of
    remaining fields in <i>file2</i> are output in the order of the lines
    encountered.</p>
<p class="Pp">If the input files are not in the appropriate collating sequence,
    the results are unspecified.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp">The <i>join</i> utility shall conform to the Base Definitions
    volume of POSIX.1‐2017, <i>Section 12.2</i>, <i>Utility Syntax
    Guidelines</i>.</p>
<p class="Pp">The following options shall be supported:</p>
<dl class="Bl-tag">
  <dt id="a"><a class="permalink" href="#a"><b>-a&nbsp;</b><i>file_number</i></a></dt>
  <dd>
    <br>
    Produce a line for each unpairable line in file <i>file_number</i>, where
      <i>file_number</i> is 1 or 2, in addition to the default output. If both
      <b>-a</b>1 and <b>-a</b>2 are specified, all unpairable lines shall be
      output.</dd>
  <dt id="e"><a class="permalink" href="#e"><b>-e&nbsp;</b><i>string</i></a></dt>
  <dd>Replace empty output fields in the list selected by <b>-o</b> with the
      string <i>string</i>.</dd>
  <dt id="o"><a class="permalink" href="#o"><b>-o&nbsp;</b><i>list</i></a></dt>
  <dd>Construct the output line to comprise the fields specified in <i>list</i>,
      each element of which shall have one of the following two forms:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt> 1.</dt>
  <dd><i>file_number.field</i>, where <i>file_number</i> is a file number and
      <i>field</i> is a decimal integer field number</dd>
  <dt> 2.</dt>
  <dd>0 (zero), representing the join field</dd>
</dl>
<p class="Pp">The elements of <i>list</i> shall be either
    &lt;comma&gt;-separated or &lt;blank&gt;-separated, as specified in
    Guideline 8 of the Base Definitions volume of POSIX.1‐2017,
    <i>Section 12.2</i>, <i>Utility Syntax Guidelines</i>. The fields specified
    by <i>list</i> shall be written for all selected output lines. Fields
    selected by <i>list</i> that do not appear in the input shall be treated as
    empty output fields. (See the <b>-e</b> option.) Only specifically requested
    fields shall be written. The application shall ensure that <i>list</i> is a
    single command line argument.</p>
</div>
<dl class="Bl-tag">
  <dt id="t"><a class="permalink" href="#t"><b>-t&nbsp;</b><i>char</i></a></dt>
  <dd>Use character <i>char</i> as a separator, for both input and output. Every
      appearance of <i>char</i> in a line shall be significant. When this option
      is specified, the collating sequence shall be the same as <i>sort</i>
      without the <b>-b</b> option.</dd>
  <dt id="v"><a class="permalink" href="#v"><b>-v&nbsp;</b><i>file_number</i></a></dt>
  <dd>
    <br>
    Instead of the default output, produce a line only for each unpairable line
      in <i>file_number</i>, where <i>file_number</i> is 1 or 2. If both
      <b>-v</b>1 and <b>-v</b>2 are specified, all unpairable lines shall be
      output.</dd>
  <dt><b>-1&nbsp;</b><i>field</i></dt>
  <dd>Join on the <i>field</i>th field of file 1. Fields are decimal integers
      starting with 1.</dd>
  <dt><b>-2&nbsp;</b><i>field</i></dt>
  <dd>Join on the <i>field</i>th field of file 2. Fields are decimal integers
      starting with 1.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="OPERANDS"><a class="permalink" href="#OPERANDS">OPERANDS</a></h1>
<p class="Pp">The following operands shall be supported:</p>
<dl class="Bl-tag">
  <dt id="file1"><a class="permalink" href="#file1"><i>file1</i>,&nbsp;<i>file2</i></a></dt>
  <dd>A pathname of a file to be joined. If either of the <i>file1</i> or
      <i>file2</i> operands is <b>'-'</b>, the standard input shall be used in
      its place.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="STDIN"><a class="permalink" href="#STDIN">STDIN</a></h1>
<p class="Pp">The standard input shall be used only if the <i>file1</i> or
    <i>file2</i> operand is <b>'-'</b>. See the INPUT FILES section.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="INPUT_FILES"><a class="permalink" href="#INPUT_FILES">INPUT
  FILES</a></h1>
<p class="Pp">The input files shall be text files.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT_VARIABLES"><a class="permalink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<p class="Pp">The following environment variables shall affect the execution of
    <i>join</i>:</p>
<dl class="Bl-tag">
  <dt id="LANG"><a class="permalink" href="#LANG"><i>LANG</i></a></dt>
  <dd>Provide a default value for the internationalization variables that are
      unset or null. (See the Base Definitions volume of POSIX.1‐2017,
      <i>Section 8.2</i>, <i>Internationalization Variables</i> for the
      precedence of internationalization variables used to determine the values
      of locale categories.)</dd>
  <dt id="LC_ALL"><a class="permalink" href="#LC_ALL"><i>LC_ALL</i></a></dt>
  <dd>If set to a non-empty string value, override the values of all the other
      internationalization variables.</dd>
  <dt id="LC_COLLATE"><a class="permalink" href="#LC_COLLATE"><i>LC_COLLATE</i></a></dt>
  <dd>
    <br>
    Determine the locale of the collating sequence <i>join</i> expects to have
      been used when the input files were sorted.</dd>
  <dt id="LC_CTYPE"><a class="permalink" href="#LC_CTYPE"><i>LC_CTYPE</i></a></dt>
  <dd>Determine the locale for the interpretation of sequences of bytes of text
      data as characters (for example, single-byte as opposed to multi-byte
      characters in arguments and input files).</dd>
  <dt id="LC_MESSAGES"><a class="permalink" href="#LC_MESSAGES"><i>LC_MESSAGES</i></a></dt>
  <dd>
    <br>
    Determine the locale that should be used to affect the format and contents
      of diagnostic messages written to standard error.</dd>
  <dt id="NLSPATH"><a class="permalink" href="#NLSPATH"><i>NLSPATH</i></a></dt>
  <dd>Determine the location of message catalogs for the processing of
      <i>LC_MESSAGES</i>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="ASYNCHRONOUS_EVENTS"><a class="permalink" href="#ASYNCHRONOUS_EVENTS">ASYNCHRONOUS
  EVENTS</a></h1>
<p class="Pp">Default.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STDOUT"><a class="permalink" href="#STDOUT">STDOUT</a></h1>
<p class="Pp">The <i>join</i> utility output shall be a concatenation of
    selected character fields. When the <b>-o</b> option is not specified, the
    output shall be:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>"%s%s%s\n", &lt;<i>join field</i>&gt;, &lt;<i>other file1 fields</i>&gt;,
<br>
    &lt;<i>other file2 fields</i>&gt;</pre>
</div>
<p class="Pp">If the join field is not the first field in a file, the
    &lt;<i>other&nbsp;file&nbsp;fields</i>&gt; for that file shall be:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>&lt;<i>fields preceding join field</i>&gt;, &lt;<i>fields following join field</i>&gt;</pre>
</div>
<p class="Pp">When the <b>-o</b> option is specified, the output format shall
    be:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>"%s\n", &lt;<i>concatenation of fields</i>&gt;</pre>
</div>
<p class="Pp">where the concatenation of fields is described by the <b>-o</b>
    option, above.</p>
<p class="Pp">For either format, each field (except the last) shall be written
    with its trailing separator character. If the separator is the default
    (&lt;blank&gt; characters), a single &lt;space&gt; shall be written after
    each field (except the last).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STDERR"><a class="permalink" href="#STDERR">STDERR</a></h1>
<p class="Pp">The standard error shall be used only for diagnostic messages.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OUTPUT_FILES"><a class="permalink" href="#OUTPUT_FILES">OUTPUT
  FILES</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXTENDED_DESCRIPTION"><a class="permalink" href="#EXTENDED_DESCRIPTION">EXTENDED
  DESCRIPTION</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<p class="Pp">The following exit values shall be returned:</p>
<dl class="Bl-tag">
  <dt>&nbsp;0</dt>
  <dd>All input files were output successfully.</dd>
  <dt>&gt;0</dt>
  <dd>An error occurred.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="CONSEQUENCES_OF_ERRORS"><a class="permalink" href="#CONSEQUENCES_OF_ERRORS">CONSEQUENCES
  OF ERRORS</a></h1>
<p class="Pp">Default.</p>
<p class="Pp"><i>The following sections are informative.</i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="APPLICATION_USAGE"><a class="permalink" href="#APPLICATION_USAGE">APPLICATION
  USAGE</a></h1>
<p class="Pp">Pathnames consisting of numeric digits or of the form
    <i>string.string</i> should not be specified directly following the
    <b>-o</b> list.</p>
<p class="Pp">If the collating sequence of the current locale does not have a
    total ordering of all characters (see the Base Definitions volume of
    POSIX.1‐2017, <i>Section 7.3.2</i>, <i>LC_COLLATE</i>), <i>join</i>
    treats fields that collate equally but are not identical as being the same.
    If this behavior is not desired, it can be avoided by forcing the use of the
    POSIX locale (although this means re-sorting the input files into the POSIX
    locale collating sequence.)</p>
<p class="Pp">When using <i>join</i> to process pathnames, it is recommended
    that LC_ALL, or at least LC_CTYPE and LC_COLLATE, are set to POSIX or C in
    the environment, since pathnames can contain byte sequences that do not form
    valid characters in some locales, in which case the utility's behavior would
    be undefined. In the POSIX locale each byte is a valid single-byte
    character, and therefore this problem is avoided.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">The <b>-o</b> 0 field essentially selects the union of the join
    fields. For example, given file <b>phone</b>:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>!Name           Phone Number
Don             +1 123-456-7890
Hal             +1 234-567-8901
Yasushi         +2 345-678-9012</pre>
</div>
<p class="Pp">and file <b>fax</b>:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>!Name           Fax Number
Don             +1 123-456-7899
Keith           +1 456-789-0122
Yasushi         +2 345-678-9011</pre>
</div>
<p class="Pp">(where the large expanses of white space are meant to each
    represent a single &lt;tab&gt;), the command:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>join -t "&lt;tab&gt;" -a 1 -a 2 -e '(unknown)' -o 0,1.2,2.2 phone fax</pre>
</div>
<p class="Pp">(where <i>&lt;tab&gt;</i> is a literal &lt;tab&gt; character)
    would produce:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>!Name           Phone Number            Fax Number
Don             +1 123-456-7890         +1 123-456-7899
Hal             +1 234-567-8901         (unknown)
Keith           (unknown)               +1 456-789-0122
Yasushi         +2 345-678-9012         +2 345-678-9011</pre>
</div>
<p class="Pp">Multiple instances of the same key will produce combinatorial
    results. The following:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>fa:
<br>
    a x
<br>
    a y
<br>
    a z
fb:
<br>
    a p</pre>
</div>
<p class="Pp">will produce:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>a x p
a y p
a z p</pre>
</div>
<p class="Pp">And the following:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>fa:
<br>
    a b c
<br>
    a d e
fb:
<br>
    a w x
<br>
    a y z
<br>
    a o p</pre>
</div>
<p class="Pp">will produce:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>a b c w x
a b c y z
a b c o p
a d e w x
a d e y z
a d e o p</pre>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="RATIONALE"><a class="permalink" href="#RATIONALE">RATIONALE</a></h1>
<p class="Pp">The <b>-e</b> option is only effective when used with <b>-o</b>
    because, unless specific fields are identified using <b>-o</b>, <i>join</i>
    is not aware of what fields might be empty. The exception to this is the
    join field, but identifying an empty join field with the <b>-e</b> string is
    not historical practice and some scripts might break if this were
  changed.</p>
<p class="Pp">The 0 field in the <b>-o</b> list was adopted from the Tenth
    Edition version of <i>join</i> to satisfy international objections that the
    <i>join</i> in the base documents for IEEE&nbsp;Std 1003.2‐1992 did
    not support the ``full join'' or ``outer join'' described in relational
    database literature. Although it has been possible to include a join field
    in the output (by default, or by field number using <b>-o</b>), the join
    field could not be included for an unpaired line selected by <b>-a</b>. The
    <b>-o</b> 0 field essentially selects the union of the join fields.</p>
<p class="Pp">This sort of outer join was not possible with the <i>join</i>
    commands in the base documents for IEEE&nbsp;Std 1003.2‐1992. The
    <b>-o</b> 0 field was chosen because it is an upwards-compatible change for
    applications. An alternative was considered: have the join field represent
    the union of the fields in the files (where they are identical for matched
    lines, and one or both are null for unmatched lines). This was not adopted
    because it would break some historical applications.</p>
<p class="Pp">The ability to specify <i>file2</i> as <b>-</b> is not historical
    practice; it was added for completeness.</p>
<p class="Pp">The <b>-v</b> option is not historical practice, but was
    considered necessary because it permitted the writing of <i>only</i> those
    lines that do not match on the join field, as opposed to the <b>-a</b>
    option, which prints both lines that do and do not match. This additional
    facility is parallel with the <b>-v</b> option of <i>grep</i>.</p>
<p class="Pp">Some historical implementations have been encountered where a
    blank line in one of the input files was considered to be the end of the
    file; the description in this volume of POSIX.1‐2017 does not cite
    this as an allowable case.</p>
<p class="Pp">Earlier versions of this standard allowed <b>-j</b>, <b>-j1</b>,
    <b>-j2</b> options, and a form of the <b>-o</b> option that allowed the
    <i>list</i> option-argument to be multiple arguments. These forms are no
    longer specified by POSIX.1‐2008 but may be present in some
    implementations.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FUTURE_DIRECTIONS"><a class="permalink" href="#FUTURE_DIRECTIONS">FUTURE
  DIRECTIONS</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><i><i>awk</i></i>, <i><i>comm</i></i>, <i><i>sort</i></i>,
    <i><i>uniq</i></i></p>
<p class="Pp">The Base Definitions volume of POSIX.1‐2017, <i>Section
    7.3.2</i>, <i>LC_COLLATE</i>, <i>Chapter 8</i>, <i>Environment
    Variables</i>, <i>Section 12.2</i>, <i>Utility Syntax Guidelines</i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Portions of this text are reprinted and reproduced in electronic
    form from IEEE Std 1003.1-2017, Standard for Information Technology --
    Portable Operating System Interface (POSIX), The Open Group Base
    Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of
    Electrical and Electronics Engineers, Inc and The Open Group. In the event
    of any discrepancy between this version and the original IEEE and The Open
    Group Standard, the original IEEE and The Open Group Standard is the referee
    document. The original Standard can be obtained online at
    http://www.opengroup.org/unix/online.html .</p>
<p class="Pp">Any typographical or formatting errors that appear in this page
    are most likely to have been introduced during the conversion of the source
    files to man page format. To report such errors, see
    https://www.kernel.org/doc/man-pages/reporting_bugs.html .</p>
</section>
</div>
<table class="foot">
  <tbody><tr>
    <td class="foot-date">2017</td>
    <td class="foot-os">IEEE/The Open Group</td>
  </tr>
</tbody></table>
</div>


<script id="res-script" src="/res/dist/res/main.js" type="text/javascript"></script>
</body></html>