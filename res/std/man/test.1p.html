<!DOCTYPE html><html><!-- This is an automatically generated file.  Do not edit.
   et
 --><head>
<meta name="dc.identifier" content="res/9dcca0327ce3e5430c55fd16488a315b3751e471">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>TEST(1P)</title>
<link id="res-style" rel="stylesheet" href="/res/dist/res/style.css" type="text/css">
</head>
<body>
<div id="book-container">
<table class="head">
  <tbody><tr>
    <td class="head-ltitle">TEST(1P)</td>
    <td class="head-vol">POSIX Programmer's Manual</td>
    <td class="head-rtitle">TEST(1P)</td>
  </tr>
</tbody></table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="PROLOG"><a class="permalink" href="#PROLOG">PROLOG</a></h1>
<p class="Pp">This manual page is part of the POSIX Programmer's Manual. The
    Linux implementation of this interface may differ (consult the corresponding
    Linux manual page for details of Linux behavior), or the interface may not
    be implemented on Linux.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">test — evaluate expression</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>test <b>[</b><i>expression</i><b>]</b></pre>
<pre>[ <b>[</b><i>expression</i><b>]</b> ]</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <i>test</i> utility shall evaluate the <i>expression</i> and
    indicate the result of the evaluation by its exit status. An exit status of
    zero indicates that the expression evaluated as true and an exit status of 1
    indicates that the expression evaluated as false.</p>
<p class="Pp">In the second form of the utility, where the utility name used is
    <i>[</i> rather than <i>test</i>, the application shall ensure that the
    closing square bracket is a separate argument. The <i>test</i> and <i>[</i>
    utilities may be implemented as a single linked utility which examines the
    basename of the zeroth command line argument to determine whether to behave
    as the <i>test</i> or <i>[</i> variant. Applications using the <i>exec</i>()
    family of functions to execute these utilities shall ensure that the
    argument passed in <i>arg0</i> or <i>argv</i>[0] is <b>'['</b> when
    executing the <i>[</i> utility and has a basename of <b>"test"</b>
    when executing the <i>test</i> utility.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp">The <i>test</i> utility shall not recognize the
    <b>"--"</b> argument in the manner specified by Guideline 10 in
    the Base Definitions volume of POSIX.1‐2017, <i>Section 12.2</i>,
    <i>Utility Syntax Guidelines</i>.</p>
<p class="Pp">No options shall be supported.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPERANDS"><a class="permalink" href="#OPERANDS">OPERANDS</a></h1>
<p class="Pp">The application shall ensure that all operators and elements of
    primaries are presented as separate arguments to the <i>test</i>
  utility.</p>
<p class="Pp">The following primaries can be used to construct
    <i>expression</i>:</p>
<dl class="Bl-tag">
  <dt id="b"><a class="permalink" href="#b"><b>-b&nbsp;</b><i>pathname</i></a></dt>
  <dd>True if <i>pathname</i> resolves to an existing directory entry for a
      block special file. False if <i>pathname</i> cannot be resolved, or if
      <i>pathname</i> resolves to an existing directory entry for a file that is
      not a block special file.</dd>
  <dt id="c"><a class="permalink" href="#c"><b>-c&nbsp;</b><i>pathname</i></a></dt>
  <dd>True if <i>pathname</i> resolves to an existing directory entry for a
      character special file. False if <i>pathname</i> cannot be resolved, or if
      <i>pathname</i> resolves to an existing directory entry for a file that is
      not a character special file.</dd>
  <dt id="d"><a class="permalink" href="#d"><b>-d&nbsp;</b><i>pathname</i></a></dt>
  <dd>True if <i>pathname</i> resolves to an existing directory entry for a
      directory. False if <i>pathname</i> cannot be resolved, or if
      <i>pathname</i> resolves to an existing directory entry for a file that is
      not a directory.</dd>
  <dt id="e"><a class="permalink" href="#e"><b>-e&nbsp;</b><i>pathname</i></a></dt>
  <dd>True if <i>pathname</i> resolves to an existing directory entry. False if
      <i>pathname</i> cannot be resolved.</dd>
  <dt id="f"><a class="permalink" href="#f"><b>-f&nbsp;</b><i>pathname</i></a></dt>
  <dd>True if <i>pathname</i> resolves to an existing directory entry for a
      regular file. False if <i>pathname</i> cannot be resolved, or if
      <i>pathname</i> resolves to an existing directory entry for a file that is
      not a regular file.</dd>
  <dt id="g"><a class="permalink" href="#g"><b>-g&nbsp;</b><i>pathname</i></a></dt>
  <dd>True if <i>pathname</i> resolves to an existing directory entry for a file
      that has its set-group-ID flag set. False if <i>pathname</i> cannot be
      resolved, or if <i>pathname</i> resolves to an existing directory entry
      for a file that does not have its set-group-ID flag set.</dd>
  <dt id="h"><a class="permalink" href="#h"><b>-h&nbsp;</b><i>pathname</i></a></dt>
  <dd>True if <i>pathname</i> resolves to an existing directory entry for a
      symbolic link. False if <i>pathname</i> cannot be resolved, or if
      <i>pathname</i> resolves to an existing directory entry for a file that is
      not a symbolic link. If the final component of <i>pathname</i> is a
      symbolic link, that symbolic link is not followed.</dd>
  <dt id="L"><a class="permalink" href="#L"><b>-L&nbsp;</b><i>pathname</i></a></dt>
  <dd>True if <i>pathname</i> resolves to an existing directory entry for a
      symbolic link. False if <i>pathname</i> cannot be resolved, or if
      <i>pathname</i> resolves to an existing directory entry for a file that is
      not a symbolic link. If the final component of <i>pathname</i> is a
      symbolic link, that symbolic link is not followed.</dd>
  <dt id="n"><a class="permalink" href="#n"><b>-n&nbsp;</b><i>string</i></a></dt>
  <dd>True if the length of <i>string</i> is non-zero; otherwise, false.</dd>
  <dt id="p"><a class="permalink" href="#p"><b>-p&nbsp;</b><i>pathname</i></a></dt>
  <dd>True if <i>pathname</i> resolves to an existing directory entry for a
      FIFO. False if <i>pathname</i> cannot be resolved, or if <i>pathname</i>
      resolves to an existing directory entry for a file that is not a
    FIFO.</dd>
  <dt id="r"><a class="permalink" href="#r"><b>-r&nbsp;</b><i>pathname</i></a></dt>
  <dd>True if <i>pathname</i> resolves to an existing directory entry for a file
      for which permission to read from the file will be granted, as defined in
      <i>Section 1.1.1.4</i>, <i>File Read</i>, <i>Write</i>, <i>and
      Creation</i>. False if <i>pathname</i> cannot be resolved, or if
      <i>pathname</i> resolves to an existing directory entry for a file for
      which permission to read from the file will not be granted.</dd>
  <dt id="S"><a class="permalink" href="#S"><b>-S&nbsp;</b><i>pathname</i></a></dt>
  <dd>True if <i>pathname</i> resolves to an existing directory entry for a
      socket. False if <i>pathname</i> cannot be resolved, or if <i>pathname</i>
      resolves to an existing directory entry for a file that is not a
    socket.</dd>
  <dt id="s"><a class="permalink" href="#s"><b>-s&nbsp;</b><i>pathname</i></a></dt>
  <dd>True if <i>pathname</i> resolves to an existing directory entry for a file
      that has a size greater than zero. False if <i>pathname</i> cannot be
      resolved, or if <i>pathname</i> resolves to an existing directory entry
      for a file that does not have a size greater than zero.</dd>
  <dt id="t"><a class="permalink" href="#t"><b>-t&nbsp;</b><i>file_descriptor</i></a></dt>
  <dd>
    <br>
    True if file descriptor number <i>file_descriptor</i> is open and is
      associated with a terminal. False if <i>file_descriptor</i> is not a valid
      file descriptor number, or if file descriptor number
      <i>file_descriptor</i> is not open, or if it is open but is not associated
      with a terminal.</dd>
  <dt id="u"><a class="permalink" href="#u"><b>-u&nbsp;</b><i>pathname</i></a></dt>
  <dd>True if <i>pathname</i> resolves to an existing directory entry for a file
      that has its set-user-ID flag set. False if <i>pathname</i> cannot be
      resolved, or if <i>pathname</i> resolves to an existing directory entry
      for a file that does not have its set-user-ID flag set.</dd>
  <dt id="w"><a class="permalink" href="#w"><b>-w&nbsp;</b><i>pathname</i></a></dt>
  <dd>True if <i>pathname</i> resolves to an existing directory entry for a file
      for which permission to write to the file will be granted, as defined in
      <i>Section 1.1.1.4</i>, <i>File Read</i>, <i>Write</i>, <i>and
      Creation</i>. False if <i>pathname</i> cannot be resolved, or if
      <i>pathname</i> resolves to an existing directory entry for a file for
      which permission to write to the file will not be granted.</dd>
  <dt id="x"><a class="permalink" href="#x"><b>-x&nbsp;</b><i>pathname</i></a></dt>
  <dd>True if <i>pathname</i> resolves to an existing directory entry for a file
      for which permission to execute the file (or search it, if it is a
      directory) will be granted, as defined in <i>Section 1.1.1.4</i>, <i>File
      Read</i>, <i>Write</i>, <i>and Creation</i>. False if <i>pathname</i>
      cannot be resolved, or if <i>pathname</i> resolves to an existing
      directory entry for a file for which permission to execute (or search) the
      file will not be granted.</dd>
  <dt id="z"><a class="permalink" href="#z"><b>-z&nbsp;</b><i>string</i></a></dt>
  <dd>True if the length of string <i>string</i> is zero; otherwise, false.</dd>
  <dt id="string"><a class="permalink" href="#string"><i>string</i></a></dt>
  <dd>True if the string <i>string</i> is not the null string; otherwise,
    false.</dd>
  <dt id="s1"><a class="permalink" href="#s1"><i>s1</i><b>&nbsp;=&nbsp;</b><i>s2</i></a></dt>
  <dd>True if the strings <i>s1</i> and <i>s2</i> are identical; otherwise,
      false.</dd>
  <dt id="s1~2"><a class="permalink" href="#s1~2"><i>s1</i><b>&nbsp;!=&nbsp;</b><i>s2</i></a></dt>
  <dd>True if the strings <i>s1</i> and <i>s2</i> are not identical; otherwise,
      false.</dd>
  <dt id="n1"><a class="permalink" href="#n1"><i>n1</i><b>&nbsp;-eq&nbsp;</b><i>n2</i></a></dt>
  <dd>True if the integers <i>n1</i> and <i>n2</i> are algebraically equal;
      otherwise, false.</dd>
  <dt id="n1~2"><a class="permalink" href="#n1~2"><i>n1</i><b>&nbsp;-ne&nbsp;</b><i>n2</i></a></dt>
  <dd>True if the integers <i>n1</i> and <i>n2</i> are not algebraically equal;
      otherwise, false.</dd>
  <dt id="n1~3"><a class="permalink" href="#n1~3"><i>n1</i><b>&nbsp;-gt&nbsp;</b><i>n2</i></a></dt>
  <dd>True if the integer <i>n1</i> is algebraically greater than the integer
      <i>n2</i>; otherwise, false.</dd>
  <dt id="n1~4"><a class="permalink" href="#n1~4"><i>n1</i><b>&nbsp;-ge&nbsp;</b><i>n2</i></a></dt>
  <dd>True if the integer <i>n1</i> is algebraically greater than or equal to
      the integer <i>n2</i>; otherwise, false.</dd>
  <dt id="n1~5"><a class="permalink" href="#n1~5"><i>n1</i><b>&nbsp;-lt&nbsp;</b><i>n2</i></a></dt>
  <dd>True if the integer <i>n1</i> is algebraically less than the integer
      <i>n2</i>; otherwise, false.</dd>
  <dt id="n1~6"><a class="permalink" href="#n1~6"><i>n1</i><b>&nbsp;-le&nbsp;</b><i>n2</i></a></dt>
  <dd>True if the integer <i>n1</i> is algebraically less than or equal to the
      integer <i>n2</i>; otherwise, false.</dd>
  <dt id="expression1"><a class="permalink" href="#expression1"><i>expression1</i><b>&nbsp;-a&nbsp;</b><i>expression2</i></a></dt>
  <dd>
    <br>
    True if both <i>expression1</i> and <i>expression2</i> are true; otherwise,
      false. The <b>-a</b> binary primary is left associative. It has a higher
      precedence than <b>-o</b>.</dd>
  <dt id="expression1~2"><a class="permalink" href="#expression1~2"><i>expression1</i><b>&nbsp;-o&nbsp;</b><i>expression2</i></a></dt>
  <dd>
    <br>
    True if either <i>expression1</i> or <i>expression2</i> is true; otherwise,
      false. The <b>-o</b> binary primary is left associative.</dd>
</dl>
<p class="Pp">With the exception of the <b>-h</b> <i>pathname</i> and <b>-L</b>
    <i>pathname</i> primaries, if a <i>pathname</i> argument is a symbolic link,
    <i>test</i> shall evaluate the expression by resolving the symbolic link and
    using the file referenced by the link.</p>
<p class="Pp">These primaries can be combined with the following operators:</p>
<dl class="Bl-tag">
  <dt><b>!&nbsp;</b><i>expression</i></dt>
  <dd>True if <i>expression</i> is false. False if <i>expression</i> is
    true.</dd>
  <dt><b>(&nbsp;</b><i>expression&nbsp;</i><b>)</b></dt>
  <dd>True if <i>expression</i> is true. False if <i>expression</i> is false.
      The parentheses can be used to alter the normal precedence and
      associativity.</dd>
</dl>
<p class="Pp">The primaries with two elements of the form:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>-<i>primary_operator primary_operand</i></pre>
</div>
<p class="Pp">are known as <i>unary primaries</i>. The primaries with three
    elements in either of the two forms:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre><i>primary_operand </i>-<i>primary_operator primary_operand</i></pre>
<pre>primary_operand primary_operator primary_operand</pre>
</div>
<p class="Pp">are known as <i>binary primaries</i>. Additional
    implementation-defined operators and <i>primary_operator</i>s may be
    provided by implementations. They shall be of the form -<i>operator</i>
    where the first character of <i>operator</i> is not a digit.</p>
<p class="Pp">The algorithm for determining the precedence of the operators and
    the return value that shall be generated is based on the number of arguments
    presented to <i>test</i>. (However, when using the <b>"[...]"</b>
    form, the &lt;right-square-bracket&gt; final argument shall not be counted
    in this algorithm.)</p>
<p class="Pp">In the following list, $1, $2, $3, and $4 represent the arguments
    presented to <i>test</i>:</p>
<dl class="Bl-tag">
  <dt>0&nbsp;arguments:</dt>
  <dd>Exit false (1).</dd>
  <dt>1&nbsp;argument:</dt>
  <dd>Exit true (0) if $1 is not null; otherwise, exit false.</dd>
  <dt>2&nbsp;arguments:</dt>
  <dd>
    <p class="Pp"></p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt> *</dt>
  <dd>If $1 is <b>'!'</b>, exit true if $2 is null, false if $2 is not
    null.</dd>
  <dt> *</dt>
  <dd>If $1 is a unary primary, exit true if the unary test is true, false if
      the unary test is false.</dd>
  <dt> *</dt>
  <dd>Otherwise, produce unspecified results.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt>3&nbsp;arguments:</dt>
  <dd>
    <p class="Pp"></p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt> *</dt>
  <dd>If $2 is a binary primary, perform the binary test of $1 and $3.</dd>
  <dt> *</dt>
  <dd>If $1 is <b>'!'</b>, negate the two-argument test of $2 and $3.</dd>
  <dt> *</dt>
  <dd>If $1 is <b>'('</b> and $3 is <b>')'</b>, perform the unary test of $2. On
      systems that do not support the XSI option, the results are unspecified if
      $1 is <b>'('</b> and $3 is <b>')'</b>.</dd>
  <dt> *</dt>
  <dd>Otherwise, produce unspecified results.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt>4&nbsp;arguments:</dt>
  <dd>
    <p class="Pp"></p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt> *</dt>
  <dd>If $1 is <b>'!'</b>, negate the three-argument test of $2, $3, and
    $4.</dd>
  <dt> *</dt>
  <dd>If $1 is <b>'('</b> and $4 is <b>')'</b>, perform the two-argument test of
      $2 and $3. On systems that do not support the XSI option, the results are
      unspecified if $1 is <b>'('</b> and $4 is <b>')'</b>.</dd>
  <dt> *</dt>
  <dd>Otherwise, the results are unspecified.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt>&gt;4&nbsp;arguments:</dt>
  <dd>The results are unspecified.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">On XSI-conformant systems, combinations of primaries and operators
    shall be evaluated using the precedence and associativity rules described
    previously. In addition, the string comparison binary primaries <b>'='</b>
    and <b>"!="</b> shall have a higher precedence than any unary
    primary.</p>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="STDIN"><a class="permalink" href="#STDIN">STDIN</a></h1>
<p class="Pp">Not used.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="INPUT_FILES"><a class="permalink" href="#INPUT_FILES">INPUT
  FILES</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT_VARIABLES"><a class="permalink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<p class="Pp">The following environment variables shall affect the execution of
    <i>test</i>:</p>
<dl class="Bl-tag">
  <dt id="LANG"><a class="permalink" href="#LANG"><i>LANG</i></a></dt>
  <dd>Provide a default value for the internationalization variables that are
      unset or null. (See the Base Definitions volume of POSIX.1‐2017,
      <i>Section 8.2</i>, <i>Internationalization Variables</i> for the
      precedence of internationalization variables used to determine the values
      of locale categories.)</dd>
  <dt id="LC_ALL"><a class="permalink" href="#LC_ALL"><i>LC_ALL</i></a></dt>
  <dd>If set to a non-empty string value, override the values of all the other
      internationalization variables.</dd>
  <dt id="LC_CTYPE"><a class="permalink" href="#LC_CTYPE"><i>LC_CTYPE</i></a></dt>
  <dd>Determine the locale for the interpretation of sequences of bytes of text
      data as characters (for example, single-byte as opposed to multi-byte
      characters in arguments).</dd>
  <dt id="LC_MESSAGES"><a class="permalink" href="#LC_MESSAGES"><i>LC_MESSAGES</i></a></dt>
  <dd>
    <br>
    Determine the locale that should be used to affect the format and contents
      of diagnostic messages written to standard error.</dd>
  <dt id="NLSPATH"><a class="permalink" href="#NLSPATH"><i>NLSPATH</i></a></dt>
  <dd>Determine the location of message catalogs for the processing of
      <i>LC_MESSAGES</i>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="ASYNCHRONOUS_EVENTS"><a class="permalink" href="#ASYNCHRONOUS_EVENTS">ASYNCHRONOUS
  EVENTS</a></h1>
<p class="Pp">Default.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STDOUT"><a class="permalink" href="#STDOUT">STDOUT</a></h1>
<p class="Pp">Not used.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STDERR"><a class="permalink" href="#STDERR">STDERR</a></h1>
<p class="Pp">The standard error shall be used only for diagnostic messages.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OUTPUT_FILES"><a class="permalink" href="#OUTPUT_FILES">OUTPUT
  FILES</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXTENDED_DESCRIPTION"><a class="permalink" href="#EXTENDED_DESCRIPTION">EXTENDED
  DESCRIPTION</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<p class="Pp">The following exit values shall be returned:</p>
<dl class="Bl-tag">
  <dt>&nbsp;0</dt>
  <dd><i>expression</i> evaluated to true.</dd>
  <dt>&nbsp;1</dt>
  <dd><i>expression</i> evaluated to false or <i>expression</i> was
    missing.</dd>
  <dt>&gt;1</dt>
  <dd>An error occurred.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="CONSEQUENCES_OF_ERRORS"><a class="permalink" href="#CONSEQUENCES_OF_ERRORS">CONSEQUENCES
  OF ERRORS</a></h1>
<p class="Pp">Default.</p>
<p class="Pp"><i>The following sections are informative.</i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="APPLICATION_USAGE"><a class="permalink" href="#APPLICATION_USAGE">APPLICATION
  USAGE</a></h1>
<p class="Pp">The XSI extensions specifying the <b>-a</b> and <b>-o</b> binary
    primaries and the <b>'('</b> and <b>')'</b> operators have been marked
    obsolescent. (Many expressions using them are ambiguously defined by the
    grammar depending on the specific expressions being evaluated.) Scripts
    using these expressions should be converted to the forms given below. Even
    though many implementations will continue to support these obsolescent
    forms, scripts should be extremely careful when dealing with user-supplied
    input that could be confused with these and other primaries and operators.
    Unless the application developer knows all the cases that produce input to
    the script, invocations like:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test "$1" -a "$2"</pre>
</div>
<p class="Pp">should be written as:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test "$1" &amp;&amp; test "$2"</pre>
</div>
<p class="Pp">to avoid problems if a user supplied values such as $1 set to
    <b>'!'</b> and $2 set to the null string. That is, in cases where maximal
    portability is of concern, replace:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test expr1 -a expr2</pre>
</div>
<p class="Pp">with:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test expr1 &amp;&amp; test expr2</pre>
</div>
<p class="Pp">and replace:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test expr1 -o expr2</pre>
</div>
<p class="Pp">with:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test expr1 || test expr2</pre>
</div>
<p class="Pp">but note that, in <i>test</i>, <b>-a</b> has higher precedence
    than <b>-o</b> while <b>"&amp;&amp;"</b> and <b>"||"</b>
    have equal precedence in the shell.</p>
<p class="Pp">Parentheses or braces can be used in the shell command language to
    effect grouping.</p>
<p class="Pp">Parentheses must be escaped when using <i>sh</i>; for example:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test \( expr1 -a expr2 \) -o expr3</pre>
</div>
<p class="Pp">This command is not always portable even on XSI-conformant systems
    depending on the expressions specified by <i>expr</i>1, <i>expr</i>2, and
    <i>expr</i>3. The following form can be used instead:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>( test expr1 &amp;&amp; test expr2 ) || test expr3</pre>
</div>
<p class="Pp">The two commands:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test "$1"
test ! "$1"</pre>
</div>
<p class="Pp">could not be used reliably on some historical systems. Unexpected
    results would occur if such a <i>string</i> expression were used and $1
    expanded to <b>'!'</b>, <b>'('</b>, or a known unary primary. Better
    constructs are:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test -n "$1"
test -z "$1"</pre>
</div>
<p class="Pp">respectively.</p>
<p class="Pp">Historical systems have also been unreliable given the common
    construct:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test "$response" = "expected string"</pre>
</div>
<p class="Pp">One of the following is a more reliable form:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test "X$response" = "Xexpected string"
test "expected string" = "$response"</pre>
</div>
<p class="Pp">Note that the second form assumes that <i>expected string</i>
    could not be confused with any unary primary. If <i>expected string</i>
    starts with <b>'-'</b>, <b>'('</b>, <b>'!'</b>, or even <b>'='</b>, the
    first form should be used instead. Using the preceding rules without the XSI
    marked extensions, any of the three comparison forms is reliable, given any
    input. (However, note that the strings are quoted in all cases.)</p>
<p class="Pp">Because the string comparison binary primaries, <b>'='</b> and
    <b>"!="</b>, have a higher precedence than any unary primary in
    the greater than 4 argument case, unexpected results can occur if arguments
    are not properly prepared. For example, in:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test -d $1 -o -d $2</pre>
</div>
<p class="Pp">If $1 evaluates to a possible directory name of <b>'='</b>, the
    first three arguments are considered a string comparison, which shall cause
    a syntax error when the second <b>-d</b> is encountered. One of the
    following forms prevents this; the second is preferred:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test \( -d "$1" \) -o \( -d "$2" \)
test -d "$1" || test -d "$2"</pre>
</div>
<p class="Pp">Also in the greater than 4 argument case:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test "$1" = "bat" -a "$2" = "ball"</pre>
</div>
<p class="Pp">syntax errors occur if $1 evaluates to <b>'('</b> or <b>'!'</b>.
    One of the following forms prevents this; the third is preferred:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test "X$1" = "Xbat" -a "X$2" = "Xball"
test "$1" = "bat" &amp;&amp; test "$2" = "ball"
test "X$1" = "Xbat" &amp;&amp; test "X$2" = "Xball"</pre>
</div>
<p class="Pp">Note that none of the following examples are permitted by the
    syntax described:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>[-f file]
[-f file ]
[ -f file]
[ -f file
test -f file ]</pre>
</div>
<p class="Pp">In the first two cases, if a utility named <i>[‐f</i>
    exists, that utility would be invoked, and not <i>test</i>. In the remaining
    cases, the brackets are mismatched, and the behavior is unspecified.
    However:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test ! ]</pre>
</div>
<p class="Pp">does have a defined meaning, and must exit with status 1.
    Similarly:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test ]</pre>
</div>
<p class="Pp">must exit with status 0.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt> 1.</dt>
  <dd>Exit if there are not two or three arguments (two variations):</dd>
</dl>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>if [ $# -ne 2 ] &amp;&amp; [ $# -ne 3 ]; then exit 1; fi
if [ $# -lt 2 ] || [ $# -gt 3 ]; then exit 1; fi</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt> 2.</dt>
  <dd>Perform a <i>mkdir</i> if a directory does not exist:</dd>
</dl>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test ! -d tempdir &amp;&amp; mkdir tempdir</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt> 3.</dt>
  <dd>Wait for a file to become non-readable:</dd>
</dl>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>while test -r thefile
do
<br>
    sleep 30
done
echo '"thefile" is no longer readable'</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt> 4.</dt>
  <dd>Perform a command if the argument is one of three strings (two
      variations):</dd>
</dl>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>if [ "$1" = "pear" ] || [ "$1" = "grape" ] || [ "$1" = "apple" ]
then
<br>
    <i>command</i>
fi</pre>
<pre>case "$1" in
<br>
    pear|grape|apple) <i>command</i> ;;
esac</pre>
</div>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="RATIONALE"><a class="permalink" href="#RATIONALE">RATIONALE</a></h1>
<p class="Pp">The KornShell-derived conditional command (double bracket
    <b>[[]]</b>) was removed from the shell command language description in an
    early proposal. Objections were raised that the real problem is misuse of
    the <i>test</i> command (<b>[</b>), and putting it into the shell is the
    wrong way to fix the problem. Instead, proper documentation and a new shell
    reserved word (<b>!</b>) are sufficient.</p>
<p class="Pp">Tests that require multiple <i>test</i> operations can be done at
    the shell level using individual invocations of the <i>test</i> command and
    shell logicals, rather than using the error-prone <b>-o</b> flag of
    <i>test</i>.</p>
<p class="Pp">XSI-conformant systems support more than four arguments.</p>
<p class="Pp">XSI-conformant systems support the combining of primaries with the
    following constructs:</p>
<dl class="Bl-tag">
  <dt id="expression1~3"><a class="permalink" href="#expression1~3"><i>expression1</i><b>
    -a </b><i>expression2</i></a></dt>
  <dd>
    <br>
    True if both <i>expression1</i> and <i>expression2</i> are true.</dd>
  <dt id="expression1~4"><a class="permalink" href="#expression1~4"><i>expression1</i><b>
    -o </b><i>expression2</i></a></dt>
  <dd>
    <br>
    True if at least one of <i>expression1</i> and <i>expression2</i> are
    true.</dd>
  <dt><b>( </b><i>expression </i><b>)</b></dt>
  <dd>
    <br>
    True if <i>expression</i> is true.</dd>
</dl>
<p class="Pp">In evaluating these more complex combined expressions, the
    following precedence rules are used:</p>
<dl class="Bl-tag">
  <dt> *</dt>
  <dd>The unary primaries have higher precedence than the algebraic binary
      primaries.</dd>
  <dt> *</dt>
  <dd>The unary primaries have lower precedence than the string binary
      primaries.</dd>
  <dt> *</dt>
  <dd>The unary and binary primaries have higher precedence than the unary
      <i>string</i> primary.</dd>
  <dt> *</dt>
  <dd>The <b>!</b> operator has higher precedence than the <b>-a</b> operator,
      and the <b>-a</b> operator has higher precedence than the <b>-o</b>
      operator.</dd>
  <dt> *</dt>
  <dd>The <b>-a</b> and <b>-o</b> operators are left associative.</dd>
  <dt> *</dt>
  <dd>The parentheses can be used to alter the normal precedence and
      associativity.</dd>
</dl>
<p class="Pp">The BSD and System V versions of <b>-f</b> are not the same. The
    BSD definition was:</p>
<dl class="Bl-tag">
  <dt id="f~2"><a class="permalink" href="#f~2"><b>-f&nbsp;</b><i>file</i></a></dt>
  <dd>True if <i>file</i> exists and is not a directory.</dd>
</dl>
<p class="Pp">The SVID version (true if the file exists and is a regular file)
    was chosen for this volume of POSIX.1‐2017 because its use is
    consistent with the <b>-b</b>, <b>-c</b>, <b>-d</b>, and <b>-p</b> operands
    (<i>file</i> exists and is a specific file type).</p>
<p class="Pp">The <b>-e</b> primary, possessing similar functionality to that
    provided by the C shell, was added because it provides the only way for a
    shell script to find out if a file exists without trying to open the file.
    Since implementations are allowed to add additional file types, a portable
    script cannot use:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test -b foo -o -c foo -o -d foo -o -f foo -o -p foo</pre>
</div>
<p class="Pp">to find out if <b>foo</b> is an existing file. On historical BSD
    systems, the existence of a file could be determined by:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>test -f foo -o -d foo</pre>
</div>
<p class="Pp">but there was no easy way to determine that an existing file was a
    regular file. An early proposal used the KornShell <b>-a</b> primary (with
    the same meaning), but this was changed to <b>-e</b> because there were
    concerns about the high probability of humans confusing the <b>-a</b>
    primary with the <b>-a</b> binary operator.</p>
<p class="Pp">The following options were not included in this volume of
    POSIX.1‐2017, although they are provided by some implementations.
    These operands should not be used by new implementations for other
  purposes:</p>
<dl class="Bl-tag">
  <dt id="k"><a class="permalink" href="#k"><b>-k&nbsp;</b><i>file</i></a></dt>
  <dd>True if <i>file</i> exists and its sticky bit is set.</dd>
  <dt id="C"><a class="permalink" href="#C"><b>-C&nbsp;</b><i>file</i></a></dt>
  <dd>True if <i>file</i> is a contiguous file.</dd>
  <dt id="V"><a class="permalink" href="#V"><b>-V&nbsp;</b><i>file</i></a></dt>
  <dd>True if <i>file</i> is a version file.</dd>
</dl>
<p class="Pp">The following option was not included because it was undocumented
    in most implementations, has been removed from some implementations
    (including System V), and the functionality is provided by the shell (see
    <i>Section 2.6.2</i>, <i>Parameter Expansion</i>.</p>
<dl class="Bl-tag">
  <dt id="l"><a class="permalink" href="#l"><b>-l&nbsp;</b><i>string</i></a></dt>
  <dd>The length of the string <i>string</i>.</dd>
</dl>
<p class="Pp">The <b>-b</b>, <b>-c</b>, <b>-g</b>, <b>-p</b>, <b>-u</b>, and
    <b>-x</b> operands are derived from the SVID; historical BSD does not
    provide them. The <b>-k</b> operand is derived from System V; historical BSD
    does not provide it.</p>
<p class="Pp">On historical BSD systems, <i>test</i> <b>-w</b> <i>directory</i>
    always returned false because <i>test</i> tried to open the directory for
    writing, which always fails.</p>
<p class="Pp">Some additional primaries newly invented or from the KornShell
    appeared in an early proposal as part of the conditional command
    (<b>[[]]</b>): <i>s1</i> <b>&gt;</b> <i>s2</i>, <i>s1</i> <b>&lt;</b>
    <i>s2</i>, <i>str</i> <b>=</b> <i>pattern</i>, <i>str</i> <b>!=</b>
    <i>pattern</i>, <i>f1</i> <b>-nt</b> <i>f2</i>, <i>f1</i> <b>-ot</b>
    <i>f2</i>, and <i>f1</i> <b>-ef</b> <i>f2</i>. They were not carried forward
    into the <i>test</i> utility when the conditional command was removed from
    the shell because they have not been included in the <i>test</i> utility
    built into historical implementations of the <i>sh</i> utility.</p>
<p class="Pp">The <b>-t</b> <i>file_descriptor</i> primary is shown with a
    mandatory argument because the grammar is ambiguous if it can be omitted.
    Historical implementations have allowed it to be omitted, providing a
    default of 1.</p>
<p class="Pp">It is noted that <b>'['</b> is not part of the portable filename
    character set; however, since it is required to be encoded by a single byte,
    and is part of the portable character set, the name of this utility forms a
    character string across all supported locales.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FUTURE_DIRECTIONS"><a class="permalink" href="#FUTURE_DIRECTIONS">FUTURE
  DIRECTIONS</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><i>Section 1.1.1.4</i>, <i>File Read</i>, <i>Write</i>, <i>and
    Creation</i>, <i><i>find</i></i></p>
<p class="Pp">The Base Definitions volume of POSIX.1‐2017, <i>Chapter
    8</i>, <i>Environment Variables</i>, <i>Section 12.2</i>, <i>Utility Syntax
    Guidelines</i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Portions of this text are reprinted and reproduced in electronic
    form from IEEE Std 1003.1-2017, Standard for Information Technology --
    Portable Operating System Interface (POSIX), The Open Group Base
    Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of
    Electrical and Electronics Engineers, Inc and The Open Group. In the event
    of any discrepancy between this version and the original IEEE and The Open
    Group Standard, the original IEEE and The Open Group Standard is the referee
    document. The original Standard can be obtained online at
    http://www.opengroup.org/unix/online.html .</p>
<p class="Pp">Any typographical or formatting errors that appear in this page
    are most likely to have been introduced during the conversion of the source
    files to man page format. To report such errors, see
    https://www.kernel.org/doc/man-pages/reporting_bugs.html .</p>
</section>
</div>
<table class="foot">
  <tbody><tr>
    <td class="foot-date">2017</td>
    <td class="foot-os">IEEE/The Open Group</td>
  </tr>
</tbody></table>
</div>


<script id="res-script" src="/res/dist/res/main.js" type="text/javascript"></script>
</body></html>