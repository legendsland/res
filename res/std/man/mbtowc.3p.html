<!DOCTYPE html><html><!-- This is an automatically generated file.  Do not edit.
   et
 --><head>
<meta name="dc.identifier" content="res/03e9369fceacf589e349760bb6be1164bfd236fd">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>MBTOWC(3P)</title>
<link id="res-style" rel="stylesheet" href="/res/dist/res/style.css" type="text/css">
</head>
<body>
<div id="book-container">
<table class="head">
  <tbody><tr>
    <td class="head-ltitle">MBTOWC(3P)</td>
    <td class="head-vol">POSIX Programmer's Manual</td>
    <td class="head-rtitle">MBTOWC(3P)</td>
  </tr>
</tbody></table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="PROLOG"><a class="permalink" href="#PROLOG">PROLOG</a></h1>
<p class="Pp">This manual page is part of the POSIX Programmer's Manual. The
    Linux implementation of this interface may differ (consult the corresponding
    Linux manual page for details of Linux behavior), or the interface may not
    be implemented on Linux.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">mbtowc — convert a character to a wide-character code</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>#include &lt;stdlib.h&gt;</pre>
<pre>int mbtowc(wchar_t *restrict <i>pwc</i>, const char *restrict <i>s</i>, size_t <i>n</i>);</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The functionality described on this reference page is aligned with
    the ISO&nbsp;C standard. Any conflict between the requirements described
    here and the ISO&nbsp;C standard is unintentional. This volume of
    POSIX.1‐2017 defers to the ISO&nbsp;C standard.</p>
<p class="Pp">If <i>s</i> is not a null pointer, <i>mbtowc</i>() shall determine
    the number of bytes that constitute the character pointed to by <i>s</i>. It
    shall then determine the wide-character code for the value of type
    <b>wchar_t</b> that corresponds to that character. (The value of the
    wide-character code corresponding to the null byte is 0.) If the character
    is valid and <i>pwc</i> is not a null pointer, <i>mbtowc</i>() shall store
    the wide-character code in the object pointed to by <i>pwc</i>.</p>
<p class="Pp">The behavior of this function is affected by the <i>LC_CTYPE</i>
    category of the current locale. For a state-dependent encoding, this
    function is placed into its initial state by a call for which its character
    pointer argument, <i>s</i>, is a null pointer. Subsequent calls with
    <i>s</i> as other than a null pointer shall cause the internal state of the
    function to be altered as necessary. A call with <i>s</i> as a null pointer
    shall cause this function to return a non-zero value if encodings have state
    dependency, and 0 otherwise. If the implementation employs special bytes to
    change the shift state, these bytes shall not produce separate
    wide-character codes, but shall be grouped with an adjacent character.
    Changing the <i>LC_CTYPE</i> category causes the shift state of this
    function to be unspecified. At most <i>n</i> bytes of the array pointed to
    by <i>s</i> shall be examined.</p>
<p class="Pp">The implementation shall behave as if no function defined in this
    volume of POSIX.1‐2017 calls <i>mbtowc</i>().</p>
<p class="Pp">The <i>mbtowc</i>() function need not be thread-safe.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp">If <i>s</i> is a null pointer, <i>mbtowc</i>() shall return a
    non-zero or 0 value, if character encodings, respectively, do or do not have
    state-dependent encodings. If <i>s</i> is not a null pointer,
    <i>mbtowc</i>() shall either return 0 (if <i>s</i> points to the null byte),
    or return the number of bytes that constitute the converted character (if
    the next <i>n</i> or fewer bytes form a valid character), or return -1 and
    shall set <i>errno</i> to indicate the error (if they do not form a valid
    character).</p>
<p class="Pp">In no case shall the value returned be greater than <i>n</i> or
    the value of the {MB_CUR_MAX} macro.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ERRORS"><a class="permalink" href="#ERRORS">ERRORS</a></h1>
<p class="Pp">The <i>mbtowc</i>() function shall fail if:</p>
<dl class="Bl-tag">
  <dt id="EILSEQ"><a class="permalink" href="#EILSEQ"><b>EILSEQ</b></a></dt>
  <dd>An invalid character sequence is detected. In the POSIX locale an
      <b>[EILSEQ]</b> error cannot occur since all byte values are valid
      characters.</dd>
</dl>
<p class="Pp"><i>The following sections are informative.</i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="APPLICATION_USAGE"><a class="permalink" href="#APPLICATION_USAGE">APPLICATION
  USAGE</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RATIONALE"><a class="permalink" href="#RATIONALE">RATIONALE</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FUTURE_DIRECTIONS"><a class="permalink" href="#FUTURE_DIRECTIONS">FUTURE
  DIRECTIONS</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><i><i>mblen</i>()</i>, <i><i>mbstowcs</i>()</i>,
    <i><i>wctomb</i>()</i>, <i><i>wcstombs</i>()</i></p>
<p class="Pp">The Base Definitions volume of POSIX.1‐2017,
    <i><b>&lt;stdlib.h&gt;</b></i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Portions of this text are reprinted and reproduced in electronic
    form from IEEE Std 1003.1-2017, Standard for Information Technology --
    Portable Operating System Interface (POSIX), The Open Group Base
    Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of
    Electrical and Electronics Engineers, Inc and The Open Group. In the event
    of any discrepancy between this version and the original IEEE and The Open
    Group Standard, the original IEEE and The Open Group Standard is the referee
    document. The original Standard can be obtained online at
    http://www.opengroup.org/unix/online.html .</p>
<p class="Pp">Any typographical or formatting errors that appear in this page
    are most likely to have been introduced during the conversion of the source
    files to man page format. To report such errors, see
    https://www.kernel.org/doc/man-pages/reporting_bugs.html .</p>
</section>
</div>
<table class="foot">
  <tbody><tr>
    <td class="foot-date">2017</td>
    <td class="foot-os">IEEE/The Open Group</td>
  </tr>
</tbody></table>
</div>


<script id="res-script" src="/res/dist/res/main.js" type="text/javascript"></script>
</body></html>