<!DOCTYPE html><html><!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 2002, 2011 Michael Kerrisk <mtk.manpages@gmail.com>
  
   SPDX-License-Identifier: Linux-man-pages-copyleft
   --><head>
<meta name="dc.identifier" content="res/8c4ab139ebf024c489a2afcdb5fde5982ecf435a">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>rt_sigqueueinfo(2)</title>
<link id="res-style" rel="stylesheet" href="/res/dist/res/style.css" type="text/css">
</head>
<body>
<div id="book-container">
<table class="head">
  <tbody><tr>
    <td class="head-ltitle">rt_sigqueueinfo(2)</td>
    <td class="head-vol">System Calls Manual</td>
    <td class="head-rtitle">rt_sigqueueinfo(2)</td>
  </tr>
</tbody></table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">rt_sigqueueinfo, rt_tgsigqueueinfo - queue a signal and data</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LIBRARY"><a class="permalink" href="#LIBRARY">LIBRARY</a></h1>
<p class="Pp">Standard C library (<i>libc</i>, <i>-lc</i>)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre><b>#include &lt;linux/signal.h&gt;</b>     /* Definition of <b>SI_*</b> constants */
<b>#include &lt;sys/syscall.h&gt;</b>      /* Definition of <b>SYS_*</b> constants */
<b>#include &lt;unistd.h&gt;</b></pre>
<pre><b>int syscall(SYS_rt_sigqueueinfo, pid_t </b><i>tgid</i><b>,</b>
<b>            int </b><i>sig</i><b>, siginfo_t *</b><i>info</i><b>);</b>
<b>int syscall(SYS_rt_tgsigqueueinfo, pid_t </b><i>tgid</i><b>, pid_t </b><i>tid</i><b>,</b>
<b>            int </b><i>sig</i><b>, siginfo_t *</b><i>info</i><b>);</b></pre>
<p class="Pp"><i>Note</i>: There are no glibc wrappers for these system calls;
    see NOTES.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <b>rt_sigqueueinfo</b>() and <b>rt_tgsigqueueinfo</b>() system
    calls are the low-level interfaces used to send a signal plus data to a
    process or thread. The receiver of the signal can obtain the accompanying
    data by establishing a signal handler with the <b>sigaction</b>(2)
    <b>SA_SIGINFO</b> flag.</p>
<p class="Pp">These system calls are not intended for direct application use;
    they are provided to allow the implementation of <b>sigqueue</b>(3) and
    <b>pthread_sigqueue</b>(3).</p>
<p class="Pp">The <b>rt_sigqueueinfo</b>() system call sends the signal
    <i>sig</i> to the thread group with the ID <i>tgid</i>. (The term
    "thread group" is synonymous with "process", and
    <i>tid</i> corresponds to the traditional UNIX process ID.) The signal will
    be delivered to an arbitrary member of the thread group (i.e., one of the
    threads that is not currently blocking the signal).</p>
<p class="Pp">The <i>info</i> argument specifies the data to accompany the
    signal. This argument is a pointer to a structure of type <i>siginfo_t</i>,
    described in <b>sigaction</b>(2) (and defined by including
    <i>&lt;sigaction.h&gt;</i>). The caller should set the following fields in
    this structure:</p>
<dl class="Bl-tag">
  <dt id="si_code"><a class="permalink" href="#si_code"><i>si_code</i></a></dt>
  <dd>This should be one of the <b>SI_*</b> codes in the Linux kernel source
      file <i>include/asm-generic/siginfo.h</i>. If the signal is being sent to
      any process other than the caller itself, the following restrictions
      apply:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>•</dt>
  <dd>The code can't be a value greater than or equal to zero. In particular, it
      can't be <b>SI_USER</b>, which is used by the kernel to indicate a signal
      sent by <b>kill</b>(2), and nor can it be <b>SI_KERNEL</b>, which is used
      to indicate a signal generated by the kernel.</dd>
  <dt>•</dt>
  <dd>The code can't (since Linux 2.6.39) be <b>SI_TKILL</b>, which is used by
      the kernel to indicate a signal sent using <b>tgkill</b>(2).</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="si_pid"><a class="permalink" href="#si_pid"><i>si_pid</i></a></dt>
  <dd>This should be set to a process ID, typically the process ID of the
      sender.</dd>
  <dt id="si_uid"><a class="permalink" href="#si_uid"><i>si_uid</i></a></dt>
  <dd>This should be set to a user ID, typically the real user ID of the
    sender.</dd>
  <dt id="si_value"><a class="permalink" href="#si_value"><i>si_value</i></a></dt>
  <dd>This field contains the user data to accompany the signal. For more
      information, see the description of the last (<i>union sigval</i>)
      argument of <b>sigqueue</b>(3).</dd>
</dl>
<p class="Pp">Internally, the kernel sets the <i>si_signo</i> field to the value
    specified in <i>sig</i>, so that the receiver of the signal can also obtain
    the signal number via that field.</p>
<p class="Pp">The <b>rt_tgsigqueueinfo</b>() system call is like
    <b>rt_sigqueueinfo</b>(), but sends the signal and data to the single thread
    specified by the combination of <i>tgid</i>, a thread group ID, and
    <i>tid</i>, a thread in that thread group.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp">On success, these system calls return 0. On error, they return -1
    and <i>errno</i> is set to indicate the error.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ERRORS"><a class="permalink" href="#ERRORS">ERRORS</a></h1>
<dl class="Bl-tag">
  <dt id="EAGAIN"><a class="permalink" href="#EAGAIN"><b>EAGAIN</b></a></dt>
  <dd>The limit of signals which may be queued has been reached. (See
      <b>signal</b>(7) for further information.)</dd>
  <dt id="EINVAL"><a class="permalink" href="#EINVAL"><b>EINVAL</b></a></dt>
  <dd><i>sig</i>, <i>tgid</i>, or <i>tid</i> was invalid.</dd>
  <dt id="EPERM"><a class="permalink" href="#EPERM"><b>EPERM</b></a></dt>
  <dd>The caller does not have permission to send the signal to the target. For
      the required permissions, see <b>kill</b>(2).</dd>
  <dt id="EPERM~2"><a class="permalink" href="#EPERM~2"><b>EPERM</b></a></dt>
  <dd><i>tgid</i> specifies a process other than the caller and
      <i>info-&gt;si_code</i> is invalid.</dd>
  <dt id="ESRCH"><a class="permalink" href="#ESRCH"><b>ESRCH</b></a></dt>
  <dd><b>rt_sigqueueinfo</b>(): No thread group matching <i>tgid</i> was
    found.</dd>
</dl>
<p class="Pp"><b>rt_tgsigqueinfo</b>(): No thread matching <i>tgid</i> and
    <i>tid</i> was found.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSIONS"><a class="permalink" href="#VERSIONS">VERSIONS</a></h1>
<p class="Pp">The <b>rt_sigqueueinfo</b>() system call was added in Linux 2.2.
    The <b>rt_tgsigqueueinfo</b>() system call was added in Linux 2.6.31.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STANDARDS"><a class="permalink" href="#STANDARDS">STANDARDS</a></h1>
<p class="Pp">These system calls are Linux-specific.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="NOTES"><a class="permalink" href="#NOTES">NOTES</a></h1>
<p class="Pp">Since these system calls are not intended for application use,
    there are no glibc wrapper functions; use <b>syscall</b>(2) in the unlikely
    case that you want to call them directly.</p>
<p class="Pp">As with <b>kill</b>(2), the null signal (0) can be used to check
    if the specified process or thread exists.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>kill</b>(2), <b>pidfd_send_signal</b>(2), <b>sigaction</b>(2),
    <b>sigprocmask</b>(2), <b>tgkill</b>(2), <b>pthread_sigqueue</b>(3),
    <b>sigqueue</b>(3), <b>signal</b>(7)</p>
</section>
</div>
<table class="foot">
  <tbody><tr>
    <td class="foot-date">(date)</td>
    <td class="foot-os">Linux man-pages (unreleased)</td>
  </tr>
</tbody></table>
</div>


<script id="res-script" src="/res/dist/res/main.js" type="text/javascript"></script>
</body></html>