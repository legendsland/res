<!DOCTYPE html><html><!-- This is an automatically generated file.  Do not edit.
   et
 --><head>
<meta name="dc.identifier" content="res/3d573f8886cb362abd59aaf511761393e627c7c2">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>BC(1P)</title>
<link id="res-style" rel="stylesheet" href="/res/dist/res/style.css" type="text/css">
</head>
<body>
<div id="book-container">
<table class="head">
  <tbody><tr>
    <td class="head-ltitle">BC(1P)</td>
    <td class="head-vol">POSIX Programmer's Manual</td>
    <td class="head-rtitle">BC(1P)</td>
  </tr>
</tbody></table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="PROLOG"><a class="permalink" href="#PROLOG">PROLOG</a></h1>
<p class="Pp">This manual page is part of the POSIX Programmer's Manual. The
    Linux implementation of this interface may differ (consult the corresponding
    Linux manual page for details of Linux behavior), or the interface may not
    be implemented on Linux.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">bc — arbitrary-precision arithmetic language</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>bc <b>[</b>-l<b>] [</b><i>file</i>...<b>]</b></pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <i>bc</i> utility shall implement an arbitrary precision
    calculator. It shall take input from any files given, then read from the
    standard input. If the standard input and standard output to <i>bc</i> are
    attached to a terminal, the invocation of <i>bc</i> shall be considered to
    be <i>interactive</i>, causing behavioral constraints described in the
    following sections.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp">The <i>bc</i> utility shall conform to the Base Definitions volume
    of POSIX.1‐2017, <i>Section 12.2</i>, <i>Utility Syntax
    Guidelines</i>.</p>
<p class="Pp">The following option shall be supported:</p>
<dl class="Bl-tag">
  <dt id="l"><a class="permalink" href="#l"><b>-l</b></a></dt>
  <dd>(The letter ell.) Define the math functions and initialize <i>scale</i> to
      20, instead of the default zero; see the EXTENDED DESCRIPTION
    section.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="OPERANDS"><a class="permalink" href="#OPERANDS">OPERANDS</a></h1>
<p class="Pp">The following operand shall be supported:</p>
<dl class="Bl-tag">
  <dt id="file"><a class="permalink" href="#file"><i>file</i></a></dt>
  <dd>A pathname of a text file containing <i>bc</i> program statements. After
      all <i>file</i>s have been read, <i>bc</i> shall read the standard
    input.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="STDIN"><a class="permalink" href="#STDIN">STDIN</a></h1>
<p class="Pp">See the INPUT FILES section.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="INPUT_FILES"><a class="permalink" href="#INPUT_FILES">INPUT
  FILES</a></h1>
<p class="Pp">Input files shall be text files containing a sequence of comments,
    statements, and function definitions that shall be executed as they are
    read.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT_VARIABLES"><a class="permalink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<p class="Pp">The following environment variables shall affect the execution of
    <i>bc</i>:</p>
<dl class="Bl-tag">
  <dt id="LANG"><a class="permalink" href="#LANG"><i>LANG</i></a></dt>
  <dd>Provide a default value for the internationalization variables that are
      unset or null. (See the Base Definitions volume of POSIX.1‐2017,
      <i>Section 8.2</i>, <i>Internationalization Variables</i> for the
      precedence of internationalization variables used to determine the values
      of locale categories.)</dd>
  <dt id="LC_ALL"><a class="permalink" href="#LC_ALL"><i>LC_ALL</i></a></dt>
  <dd>If set to a non-empty string value, override the values of all the other
      internationalization variables.</dd>
  <dt id="LC_CTYPE"><a class="permalink" href="#LC_CTYPE"><i>LC_CTYPE</i></a></dt>
  <dd>Determine the locale for the interpretation of sequences of bytes of text
      data as characters (for example, single-byte as opposed to multi-byte
      characters in arguments and input files).</dd>
  <dt id="LC_MESSAGES"><a class="permalink" href="#LC_MESSAGES"><i>LC_MESSAGES</i></a></dt>
  <dd>
    <br>
    Determine the locale that should be used to affect the format and contents
      of diagnostic messages written to standard error.</dd>
  <dt id="NLSPATH"><a class="permalink" href="#NLSPATH"><i>NLSPATH</i></a></dt>
  <dd>Determine the location of message catalogs for the processing of
      <i>LC_MESSAGES</i>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="ASYNCHRONOUS_EVENTS"><a class="permalink" href="#ASYNCHRONOUS_EVENTS">ASYNCHRONOUS
  EVENTS</a></h1>
<p class="Pp">Default.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STDOUT"><a class="permalink" href="#STDOUT">STDOUT</a></h1>
<p class="Pp">The output of the <i>bc</i> utility shall be controlled by the
    program read, and consist of zero or more lines containing the value of all
    executed expressions without assignments. The radix and precision of the
    output shall be controlled by the values of the <b>obase</b> and
    <b>scale</b> variables; see the EXTENDED DESCRIPTION section.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STDERR"><a class="permalink" href="#STDERR">STDERR</a></h1>
<p class="Pp">The standard error shall be used only for diagnostic messages.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OUTPUT_FILES"><a class="permalink" href="#OUTPUT_FILES">OUTPUT
  FILES</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXTENDED_DESCRIPTION"><a class="permalink" href="#EXTENDED_DESCRIPTION">EXTENDED
  DESCRIPTION</a></h1>
<section class="Ss">
<h2 class="Ss" id="Grammar"><a class="permalink" href="#Grammar">Grammar</a></h2>
<p class="Pp">The grammar in this section and the lexical conventions in the
    following section shall together describe the syntax for <i>bc</i> programs.
    The general conventions for this style of grammar are described in
    <i>Section 1.3</i>, <i>Grammar Conventions</i>. A valid program can be
    represented as the non-terminal symbol <b>program</b> in the grammar. This
    formal syntax shall take precedence over the text syntax description.</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>%token    EOF NEWLINE STRING LETTER NUMBER</pre>
<pre>%token    MUL_OP
/*        '*', '/', '%'                           */</pre>
<pre>%token    ASSIGN_OP
/*        '=', '+=', '-=', '*=', '/=', '%=', '^=' */</pre>
<pre>%token    REL_OP
/*        '==', '&lt;=', '&gt;=', '!=', '&lt;', '&gt;'        */</pre>
<pre>%token    INCR_DECR
/*        '++', '--'                              */</pre>
<pre>%token    Define    Break    Quit    Length
/*        'define', 'break', 'quit', 'length'     */</pre>
<pre>%token    Return    For    If    While    Sqrt
/*        'return', 'for', 'if', 'while', 'sqrt'  */</pre>
<pre>%token    Scale    Ibase    Obase    Auto
/*        'scale', 'ibase', 'obase', 'auto'       */</pre>
<pre>%start    program</pre>
<pre>%%</pre>
<pre>program              : EOF
<br>
                     | input_item program
<br>
                     ;</pre>
<pre>input_item           : semicolon_list NEWLINE
<br>
                     | function
<br>
                     ;</pre>
<pre>semicolon_list       : /* empty */
<br>
                     | statement
<br>
                     | semicolon_list ';' statement
<br>
                     | semicolon_list ';'
<br>
                     ;</pre>
<pre>statement_list       : /* empty */
<br>
                     | statement
<br>
                     | statement_list NEWLINE
<br>
                     | statement_list NEWLINE statement
<br>
                     | statement_list ';'
<br>
                     | statement_list ';' statement
<br>
                     ;</pre>
<pre>statement            : expression
<br>
                     | STRING
<br>
                     | Break
<br>
                     | Quit
<br>
                     | Return
<br>
                     | Return '(' return_expression ')'
<br>
                     | For '(' expression ';'
<br>
                           relational_expression ';'
<br>
                           expression ')' statement
<br>
                     | If '(' relational_expression ')' statement
<br>
                     | While '(' relational_expression ')' statement
<br>
                     | '{' statement_list '}'
<br>
                     ;</pre>
<pre>function             : Define LETTER '(' opt_parameter_list ')'
<br>
                           '{' NEWLINE opt_auto_define_list
<br>
                           statement_list '}'
<br>
                     ;</pre>
<pre>opt_parameter_list   : /* empty */
<br>
                     | parameter_list
<br>
                     ;</pre>
<pre>parameter_list       : LETTER
<br>
                     | define_list ',' LETTER
<br>
                     ;</pre>
<pre>opt_auto_define_list : /* empty */
<br>
                     | Auto define_list NEWLINE
<br>
                     | Auto define_list ';'
<br>
                     ;</pre>
<pre>define_list          : LETTER
<br>
                     | LETTER '[' ']'
<br>
                     | define_list ',' LETTER
<br>
                     | define_list ',' LETTER '[' ']'
<br>
                     ;</pre>
<pre>opt_argument_list    : /* empty */
<br>
                     | argument_list
<br>
                     ;</pre>
<pre>argument_list        : expression
<br>
                     | LETTER '[' ']' ',' argument_list
<br>
                     ;</pre>
<pre>relational_expression : expression
<br>
                     | expression REL_OP expression
<br>
                     ;</pre>
<pre>return_expression    : /* empty */
<br>
                     | expression
<br>
                     ;</pre>
<pre>expression           : named_expression
<br>
                     | NUMBER
<br>
                     | '(' expression ')'
<br>
                     | LETTER '(' opt_argument_list ')'
<br>
                     | '-' expression
<br>
                     | expression '+' expression
<br>
                     | expression '-' expression
<br>
                     | expression MUL_OP expression
<br>
                     | expression '^' expression
<br>
                     | INCR_DECR named_expression
<br>
                     | named_expression INCR_DECR
<br>
                     | named_expression ASSIGN_OP expression
<br>
                     | Length '(' expression ')'
<br>
                     | Sqrt '(' expression ')'
<br>
                     | Scale '(' expression ')'
<br>
                     ;</pre>
<pre>named_expression     : LETTER
<br>
                     | LETTER '[' expression ']'
<br>
                     | Scale
<br>
                     | Ibase
<br>
                     | Obase
<br>
                     ;</pre>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Lexical_Conventions_in_bc"><a class="permalink" href="#Lexical_Conventions_in_bc">Lexical
  Conventions in bc</a></h2>
<p class="Pp">The lexical conventions for <i>bc</i> programs, with respect to
    the preceding grammar, shall be as follows:</p>
<dl class="Bl-tag">
  <dt> 1.</dt>
  <dd>Except as noted, <i>bc</i> shall recognize the longest possible token or
      delimiter beginning at a given point.</dd>
  <dt> 2.</dt>
  <dd>A comment shall consist of any characters beginning with the two adjacent
      characters <b>"/*"</b> and terminated by the next occurrence of
      the two adjacent characters <b>"*/"</b>. Comments shall have no
      effect except to delimit lexical tokens.</dd>
  <dt> 3.</dt>
  <dd>The &lt;newline&gt; shall be recognized as the token <b>NEWLINE</b>.</dd>
  <dt> 4.</dt>
  <dd>The token <b>STRING</b> shall represent a string constant; it shall
      consist of any characters beginning with the double-quote character
      (<b>'"'</b>) and terminated by another occurrence of the double-quote
      character. The value of the string is the sequence of all characters
      between, but not including, the two double-quote characters. All
      characters shall be taken literally from the input, and there is no way to
      specify a string containing a double-quote character. The length of the
      value of each string shall be limited to {BC_STRING_MAX} bytes.</dd>
  <dt> 5.</dt>
  <dd>A &lt;blank&gt; shall have no effect except as an ordinary character if it
      appears within a <b>STRING</b> token, or to delimit a lexical token other
      than <b>STRING</b>.</dd>
  <dt> 6.</dt>
  <dd>The combination of a &lt;backslash&gt; character immediately followed by a
      &lt;newline&gt; shall have no effect other than to delimit lexical tokens
      with the following exceptions:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt> *</dt>
  <dd>It shall be interpreted as the character sequence
      <b>"\&lt;newline&gt;"</b> in <b>STRING</b> tokens.</dd>
  <dt> *</dt>
  <dd>It shall be ignored as part of a multi-line <b>NUMBER</b> token.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt> 7.</dt>
  <dd>The token <b>NUMBER</b> shall represent a numeric constant. It shall be
      recognized by the following grammar:</dd>
</dl>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>NUMBER  : integer
<br>
        | '.' integer
<br>
        | integer '.'
<br>
        | integer '.' integer
<br>
        ;</pre>
<pre>integer : digit
<br>
        | integer digit
<br>
        ;</pre>
<pre>digit   : 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7
<br>
        | 8 | 9 | A | B | C | D | E | F
<br>
        ;</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt> 8.</dt>
  <dd>The value of a <b>NUMBER</b> token shall be interpreted as a numeral in
      the base specified by the value of the internal register <b>ibase</b>
      (described below). Each of the <b>digit</b> characters shall have the
      value from 0 to 15 in the order listed here, and the &lt;period&gt;
      character shall represent the radix point. The behavior is undefined if
      digits greater than or equal to the value of <b>ibase</b> appear in the
      token. However, note the exception for single-digit values being assigned
      to <b>ibase</b> and <b>obase</b> themselves, in <i>Operations in
    bc</i>.</dd>
  <dt> 9.</dt>
  <dd>The following keywords shall be recognized as tokens:
    <table class="tbl">
      <tbody><tr>
        <td><b>auto break define</b></td>
        <td><b>ibase if for</b></td>
        <td><b>length obase quit</b></td>
        <td><b>return scale sqrt</b></td>
        <td><b>while</b></td>
      </tr>
    </tbody></table>
    <br>
  </dd>
  <dt>10.</dt>
  <dd>Any of the following characters occurring anywhere except within a keyword
      shall be recognized as the token <b>LETTER</b>:</dd>
</dl>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>a b c d e f g h i j k l m n o p q r s t u v w x y z</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt>11.</dt>
  <dd>The following single-character and two-character sequences shall be
      recognized as the token <b>ASSIGN_OP</b>:</dd>
</dl>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>=   +=   -=   *=   /=   %=   ^=</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt>12.</dt>
  <dd>If an <b>'='</b> character, as the beginning of a token, is followed by a
      <b>'-'</b> character with no intervening delimiter, the behavior is
      undefined.</dd>
  <dt>13.</dt>
  <dd>The following single-characters shall be recognized as the token
      <b>MUL_OP</b>:</dd>
</dl>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>*   /   %</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt>14.</dt>
  <dd>The following single-character and two-character sequences shall be
      recognized as the token <b>REL_OP</b>:</dd>
</dl>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>==   &lt;=   &gt;=   !=   &lt;   &gt;</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt>15.</dt>
  <dd>The following two-character sequences shall be recognized as the token
      <b>INCR_DECR</b>:</dd>
</dl>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>++   --</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt>16.</dt>
  <dd>The following single characters shall be recognized as tokens whose names
      are the character:</dd>
</dl>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>&lt;newline&gt;  (  )  ,  +  -  ;  [  ]  ^  {  }</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt>17.</dt>
  <dd>The token <b>EOF</b> is returned when the end of input is reached.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Operations_in_bc"><a class="permalink" href="#Operations_in_bc">Operations
  in bc</a></h2>
<p class="Pp">There are three kinds of identifiers: ordinary identifiers, array
    identifiers, and function identifiers. All three types consist of single
    lowercase letters. Array identifiers shall be followed by square brackets
    (<b>"[]"</b>). An array subscript is required except in an
    argument or auto list. Arrays are singly dimensioned and can contain up to
    {BC_DIM_MAX} elements. Indexing shall begin at zero so an array is indexed
    from 0 to {BC_DIM_MAX}-1. Subscripts shall be truncated to integers. The
    application shall ensure that function identifiers are followed by
    parentheses, possibly enclosing arguments. The three types of identifiers do
    not conflict.</p>
<p class="Pp">The following table summarizes the rules for precedence and
    associativity of all operators. Operators on the same line shall have the
    same precedence; rows are in order of decreasing precedence.</p>
<p class="Pp">
  <br>
  <b>Table: Operators in </b><i>bc</i><b></b>
  <br>
</p>
<table class="tbl" style="border-style: solid;">
  <tbody><tr style="border-bottom-style: solid;">
    <td style="text-align: center; border-right-style: solid;"><b>Operator</b></td>
    <td style="text-align: center;"><b>Associativity</b></td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">++, --</td>
    <td>N/A</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">unary -</td>
    <td>N/A</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">^</td>
    <td>Right to left</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">*, /, %</td>
    <td>Left to right</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">+, binary -</td>
    <td>Left to right</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">=, +=, -=, *=, /=, %=, ^=</td>
    <td>Right to left</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">==, &lt;=, &gt;=, !=, &lt;, &gt;</td>
    <td>None</td>
  </tr>
</tbody></table>
<p class="Pp">Each expression or named expression has a <i>scale</i>, which is
    the number of decimal digits that shall be maintained as the fractional
    portion of the expression.</p>
<p class="Pp"><i>Named expressions</i> are places where values are stored. Named
    expressions shall be valid on the left side of an assignment. The value of a
    named expression shall be the value stored in the place named. Simple
    identifiers and array elements are named expressions; they have an initial
    value of zero and an initial scale of zero.</p>
<p class="Pp">The internal registers <b>scale</b>, <b>ibase</b>, and
    <b>obase</b> are all named expressions. The scale of an expression
    consisting of the name of one of these registers shall be zero; values
    assigned to any of these registers are truncated to integers. The
    <b>scale</b> register shall contain a global value used in computing the
    scale of expressions (as described below). The value of the register
    <b>scale</b> is limited to 0 ≤ <b>scale</b> ≤ {BC_SCALE_MAX}
    and shall have a default value of zero. The <b>ibase</b> and <b>obase</b>
    registers are the input and output number radix, respectively. The value of
    <b>ibase</b> shall be limited to:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>2 ≤ ibase ≤ 16</pre>
</div>
<p class="Pp">The value of <b>obase</b> shall be limited to:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>2 ≤ obase ≤ {BC_BASE_MAX}</pre>
</div>
<p class="Pp">When either <b>ibase</b> or <b>obase</b> is assigned a single
    <b>digit</b> value from the list in <i>Lexical Conventions in bc</i>, the
    value shall be assumed in hexadecimal. (For example, <b>ibase</b>=A sets to
    base ten, regardless of the current <b>ibase</b> value.) Otherwise, the
    behavior is undefined when digits greater than or equal to the value of
    <b>ibase</b> appear in the input. Both <b>ibase</b> and <b>obase</b> shall
    have initial values of 10.</p>
<p class="Pp">Internal computations shall be conducted as if in decimal,
    regardless of the input and output bases, to the specified number of decimal
    digits. When an exact result is not achieved (for example,
    <b>scale</b>=0;&nbsp;3.2/1)<b>,</b> the result shall be truncated.</p>
<p class="Pp">For all values of <b>obase</b> specified by this volume of
    POSIX.1‐2017, <i>bc</i> shall output numeric values by performing
    each of the following steps in order:</p>
<dl class="Bl-tag">
  <dt> 1.</dt>
  <dd>If the value is less than zero, a &lt;hyphen-minus&gt; (<b>'-'</b>)
      character shall be output.</dd>
  <dt> 2.</dt>
  <dd>One of the following is output, depending on the numerical value:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt> *</dt>
  <dd>If the absolute value of the numerical value is greater than or equal to
      one, the integer portion of the value shall be output as a series of
      digits appropriate to <b>obase</b> (as described below), most significant
      digit first. The most significant non-zero digit shall be output next,
      followed by each successively less significant digit.</dd>
  <dt> *</dt>
  <dd>If the absolute value of the numerical value is less than one but greater
      than zero and the scale of the numerical value is greater than zero, it is
      unspecified whether the character 0 is output.</dd>
  <dt> *</dt>
  <dd>If the numerical value is zero, the character 0 shall be output.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt> 3.</dt>
  <dd>If the scale of the value is greater than zero and the numeric value is
      not zero, a &lt;period&gt; character shall be output, followed by a series
      of digits appropriate to <b>obase</b> (as described below) representing
      the most significant portion of the fractional part of the value. If
      <i>s</i> represents the scale of the value being output, the number of
      digits output shall be <i>s</i> if <b>obase</b> is 10, less than or equal
      to <i>s</i> if <b>obase</b> is greater than 10, or greater than or equal
      to <i>s</i> if <b>obase</b> is less than 10. For <b>obase</b> values other
      than 10, this should be the number of digits needed to represent a
      precision of 10<i>s</i>.</dd>
</dl>
<p class="Pp">For <b>obase</b> values from 2 to 16, valid digits are the first
    <b>obase</b> of the single characters:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>0  1  2  3  4  5  6  7  8  9  A  B  C  D  E  F</pre>
</div>
<p class="Pp">which represent the values zero to 15, inclusive,
  respectively.</p>
<p class="Pp">For bases greater than 16, each digit shall be written as a
    separate multi-digit decimal number. Each digit except the most significant
    fractional digit shall be preceded by a single &lt;space&gt;. For bases from
    17 to 100, <i>bc</i> shall write two-digit decimal numbers; for bases from
    101 to 1000, three-digit decimal strings, and so on. For example, the
    decimal number 1024 in base 25 would be written as:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre><br>
 01 15 24</pre>
</div>
<p class="Pp">and in base 125, as:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre><br>
 008 024</pre>
</div>
<p class="Pp">Very large numbers shall be split across lines with 70 characters
    per line in the POSIX locale; other locales may split at different character
    boundaries. Lines that are continued shall end with a &lt;backslash&gt;.</p>
<p class="Pp">A function call shall consist of a function name followed by
    parentheses containing a &lt;comma&gt;-separated list of expressions, which
    are the function arguments. A whole array passed as an argument shall be
    specified by the array name followed by empty square brackets. All function
    arguments shall be passed by value. As a result, changes made to the formal
    parameters shall have no effect on the actual arguments. If the function
    terminates by executing a <b>return</b> statement, the value of the function
    shall be the value of the expression in the parentheses of the <b>return</b>
    statement or shall be zero if no expression is provided or if there is no
    <b>return</b> statement.</p>
<p class="Pp">The result of <b>sqrt</b>(<i>expression</i>) shall be the square
    root of the expression. The result shall be truncated in the least
    significant decimal place. The scale of the result shall be the scale of the
    expression or the value of <b>scale</b>, whichever is larger.</p>
<p class="Pp">The result of <b>length</b>(<i>expression</i>) shall be the total
    number of significant decimal digits in the expression. The scale of the
    result shall be zero.</p>
<p class="Pp">The result of <b>scale</b>(<i>expression</i>) shall be the scale
    of the expression. The scale of the result shall be zero.</p>
<p class="Pp">A numeric constant shall be an expression. The scale shall be the
    number of digits that follow the radix point in the input representing the
    constant, or zero if no radix point appears.</p>
<p class="Pp">The sequence (&nbsp;<i>expression</i>&nbsp;) shall be an
    expression with the same value and scale as <i>expression</i>. The
    parentheses can be used to alter the normal precedence.</p>
<p class="Pp">The semantics of the unary and binary operators are as
  follows:</p>
<dl class="Bl-tag">
  <dt id="expression"><a class="permalink" href="#expression">-<i>expression</i></a></dt>
  <dd>
    <br>
    The result shall be the negative of the <i>expression</i>. The scale of the
      result shall be the scale of <i>expression</i>.</dd>
</dl>
<p class="Pp">The unary increment and decrement operators shall not modify the
    scale of the named expression upon which they operate. The scale of the
    result shall be the scale of that named expression.</p>
<dl class="Bl-tag">
  <dt>++<i>named-expression</i></dt>
  <dd>
    <br>
    The named expression shall be incremented by one. The result shall be the
      value of the named expression after incrementing.</dd>
  <dt id="named-expression"><a class="permalink" href="#named-expression">--<i>named-expression</i></a></dt>
  <dd>
    <br>
    The named expression shall be decremented by one. The result shall be the
      value of the named expression after decrementing.</dd>
  <dt id="named-expression~2"><a class="permalink" href="#named-expression~2"><i>named-expression</i>++</a></dt>
  <dd>
    <br>
    The named expression shall be incremented by one. The result shall be the
      value of the named expression before incrementing.</dd>
  <dt id="named-expression~3"><a class="permalink" href="#named-expression~3"><i>named-expression</i>--</a></dt>
  <dd>
    <br>
    The named expression shall be decremented by one. The result shall be the
      value of the named expression before decrementing.</dd>
</dl>
<p class="Pp">The exponentiation operator, &lt;circumflex&gt; (<b>'^'</b>),
    shall bind right to left.</p>
<dl class="Bl-tag">
  <dt id="expression~2"><a class="permalink" href="#expression~2"><i>expression</i>^<i>expression</i></a></dt>
  <dd>
    <br>
    The result shall be the first <i>expression</i> raised to the power of the
      second <i>expression</i>. If the second expression is not an integer, the
      behavior is undefined. If <i>a</i> is the scale of the left expression and
      <i>b</i> is the absolute value of the right expression, the scale of the
      result shall be:</dd>
</dl>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>if b &gt;= 0 min(a * b, max(scale, a)) if b &lt; 0 scale</pre>
</div>
</div>
<p class="Pp">The multiplicative operators (<b>'*'</b>, <b>'/'</b>, <b>'%'</b>)
    shall bind left to right.</p>
<dl class="Bl-tag">
  <dt id="expression~3"><a class="permalink" href="#expression~3"><i>expression</i>*<i>expression</i></a></dt>
  <dd>
    <br>
    The result shall be the product of the two expressions. If <i>a</i> and
      <i>b</i> are the scales of the two expressions, then the scale of the
      result shall be:</dd>
</dl>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>min(a+b,max(scale,a,b))</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt id="expression~4"><a class="permalink" href="#expression~4"><i>expression</i>/<i>expression</i></a></dt>
  <dd>
    <br>
    The result shall be the quotient of the two expressions. The scale of the
      result shall be the value of <b>scale</b>.</dd>
  <dt id="expression~5"><a class="permalink" href="#expression~5"><i>expression</i>%<i>expression</i></a></dt>
  <dd>
    <br>
    For expressions <i>a</i> and <i>b</i>, <i>a</i>%<i>b</i> shall be evaluated
      equivalent to the steps:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt> 1.</dt>
  <dd>Compute <i>a</i>/<i>b</i> to current scale.</dd>
  <dt> 2.</dt>
  <dd>Use the result to compute:</dd>
</dl>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>a - (a / b) * b</pre>
</div>
<p class="Pp">to scale:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>max(scale + scale(b), scale(a))</pre>
</div>
</div>
<p class="Pp">The scale of the result shall be:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>max(scale + scale(b), scale(a))</pre>
</div>
<p class="Pp">When <b>scale</b> is zero, the <b>'%'</b> operator is the
    mathematical remainder operator.</p>
</div>
<p class="Pp">The additive operators (<b>'+'</b>, <b>'-'</b>) shall bind left to
    right.</p>
<dl class="Bl-tag">
  <dt id="expression~6"><a class="permalink" href="#expression~6"><i>expression</i>+<i>expression</i></a></dt>
  <dd>
    <br>
    The result shall be the sum of the two expressions. The scale of the result
      shall be the maximum of the scales of the expressions.</dd>
  <dt id="expression~7"><a class="permalink" href="#expression~7"><i>expression</i>-<i>expression</i></a></dt>
  <dd>
    <br>
    The result shall be the difference of the two expressions. The scale of the
      result shall be the maximum of the scales of the expressions.</dd>
</dl>
<p class="Pp">The assignment operators (<b>'='</b>, <b>"+="</b>,
    <b>"-="</b>, <b>"*="</b>, <b>"/="</b>,
    <b>"%="</b>, <b>"^="</b>) shall bind right to left.</p>
<dl class="Bl-tag">
  <dt id="named-expression~4"><a class="permalink" href="#named-expression~4"><i>named-expression</i>=<i>expression</i></a></dt>
  <dd>
    <br>
    This expression shall result in assigning the value of the expression on the
      right to the named expression on the left. The scale of both the named
      expression and the result shall be the scale of <i>expression</i>.</dd>
</dl>
<p class="Pp">The compound assignment forms:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre><i>named-expression</i> &lt;<i>operator</i>&gt;= <i>expression</i></pre>
</div>
<p class="Pp">shall be equivalent to:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre><i>named-expression</i>=<i>named-expression</i> &lt;<i>operator</i>&gt; <i>expression</i></pre>
</div>
<p class="Pp">except that the <i>named-expression</i> shall be evaluated only
    once.</p>
<p class="Pp">Unlike all other operators, the relational operators
    (<b>'&lt;'</b>, <b>'&gt;'</b>, <b>"&lt;="</b>,
    <b>"&gt;="</b>, <b>"=="</b>, <b>"!="</b>)
    shall be only valid as the object of an <b>if</b>, <b>while</b>, or inside a
    <b>for</b> statement.</p>
<dl class="Bl-tag">
  <dt id="expression1"><a class="permalink" href="#expression1"><i>expression1</i>&lt;<i>expression2</i></a></dt>
  <dd>
    <br>
    The relation shall be true if the value of <i>expression1</i> is strictly
      less than the value of <i>expression2</i>.</dd>
  <dt id="expression1~2"><a class="permalink" href="#expression1~2"><i>expression1</i>&gt;<i>expression2</i></a></dt>
  <dd>
    <br>
    The relation shall be true if the value of <i>expression1</i> is strictly
      greater than the value of <i>expression2</i>.</dd>
  <dt id="expression1~3"><a class="permalink" href="#expression1~3"><i>expression1</i>&lt;=<i>expression2</i></a></dt>
  <dd>
    <br>
    The relation shall be true if the value of <i>expression1</i> is less than
      or equal to the value of <i>expression2</i>.</dd>
  <dt id="expression1~4"><a class="permalink" href="#expression1~4"><i>expression1</i>&gt;=<i>expression2</i></a></dt>
  <dd>
    <br>
    The relation shall be true if the value of <i>expression1</i> is greater
      than or equal to the value of <i>expression2</i>.</dd>
  <dt id="expression1~5"><a class="permalink" href="#expression1~5"><i>expression1</i>==<i>expression2</i></a></dt>
  <dd>
    <br>
    The relation shall be true if the values of <i>expression1</i> and
      <i>expression2</i> are equal.</dd>
  <dt id="expression1~6"><a class="permalink" href="#expression1~6"><i>expression1</i>!=<i>expression2</i></a></dt>
  <dd>
    <br>
    The relation shall be true if the values of <i>expression1</i> and
      <i>expression2</i> are unequal.</dd>
</dl>
<p class="Pp">There are only two storage classes in <i>bc</i>: global and
    automatic (local). Only identifiers that are local to a function need be
    declared with the <b>auto</b> command. The arguments to a function shall be
    local to the function. All other identifiers are assumed to be global and
    available to all functions. All identifiers, global and local, have initial
    values of zero. Identifiers declared as auto shall be allocated on entry to
    the function and released on returning from the function. They therefore do
    not retain values between function calls. Auto arrays shall be specified by
    the array name followed by empty square brackets. On entry to a function,
    the old values of the names that appear as parameters and as automatic
    variables shall be pushed onto a stack. Until the function returns,
    reference to these names shall refer only to the new values.</p>
<p class="Pp">References to any of these names from other functions that are
    called from this function also refer to the new value until one of those
    functions uses the same name for a local variable.</p>
<p class="Pp">When a statement is an expression, unless the main operator is an
    assignment, execution of the statement shall write the value of the
    expression followed by a &lt;newline&gt;.</p>
<p class="Pp">When a statement is a string, execution of the statement shall
    write the value of the string.</p>
<p class="Pp">Statements separated by &lt;semicolon&gt; or &lt;newline&gt;
    characters shall be executed sequentially. In an interactive invocation of
    <i>bc</i>, each time a &lt;newline&gt; is read that satisfies the
    grammatical production:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>input_item : semicolon_list NEWLINE</pre>
</div>
<p class="Pp">the sequential list of statements making up the
    <b>semicolon_list</b> shall be executed immediately and any output produced
    by that execution shall be written without any delay due to buffering.</p>
<p class="Pp">In an <b>if</b> statement (<b>if</b>(<i>relation</i>)
    <i>statement</i>), the <i>statement</i> shall be executed if the relation is
    true.</p>
<p class="Pp">The <b>while</b> statement (<b>while</b>(<i>relation</i>)
    <i>statement</i>) implements a loop in which the <i>relation</i> is tested;
    each time the <i>relation</i> is true, the <i>statement</i> shall be
    executed and the <i>relation</i> retested. When the <i>relation</i> is
    false, execution shall resume after <i>statement</i>.</p>
<p class="Pp">A <b>for</b> statement(<b>for</b>(<i>expression</i>;
    <i>relation</i>; <i>expression</i>) <i>statement</i>) shall be the same
  as:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre><i>first-expression</i>
while (<i>relation</i>) {
<br>
    <i>statement</i>
<br>
    <i>last-expression</i>
}</pre>
</div>
<p class="Pp">The application shall ensure that all three expressions are
    present.</p>
<p class="Pp">The <b>break</b> statement shall cause termination of a <b>for</b>
    or <b>while</b> statement.</p>
<p class="Pp">The <b>auto</b> statement (<b>auto</b> <i>identifier</i>
    <b>[</b>,<i>identifier</i><b>]</b> ...) shall cause the values of the
    identifiers to be pushed down. The identifiers can be ordinary identifiers
    or array identifiers. Array identifiers shall be specified by following the
    array name by empty square brackets. The application shall ensure that the
    <b>auto</b> statement is the first statement in a function definition.</p>
<p class="Pp">A <b>define</b> statement:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>define <i>LETTER</i> ( <i>opt_parameter_list</i> ) {
<br>
    <i>opt_auto_define_list</i>
<br>
    <i>statement_list</i>
}</pre>
</div>
<p class="Pp">defines a function named <b>LETTER</b>. If a function named
    <b>LETTER</b> was previously defined, the <b>define</b> statement shall
    replace the previous definition. The expression:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>LETTER ( <i>opt_argument_list</i> )</pre>
</div>
<p class="Pp">shall invoke the function named <b>LETTER</b>. The behavior is
    undefined if the number of arguments in the invocation does not match the
    number of parameters in the definition. Functions shall be defined before
    they are invoked. A function shall be considered to be defined within its
    own body, so recursive calls are valid. The values of numeric constants
    within a function shall be interpreted in the base specified by the value of
    the <b>ibase</b> register when the function is invoked.</p>
<p class="Pp">The <b>return</b> statements (<b>return</b> and
    <b>return</b>(<i>expression</i>)) shall cause termination of a function,
    popping of its auto variables, and specification of the result of the
    function. The first form shall be equivalent to <b>return</b>(0). The value
    and scale of the result returned by the function shall be the value and
    scale of the expression returned.</p>
<p class="Pp">The <b>quit</b> statement (<b>quit</b>) shall stop execution of a
    <i>bc</i> program at the point where the statement occurs in the input, even
    if it occurs in a function definition, or in an <b>if</b>, <b>for</b>, or
    <b>while</b> statement.</p>
<p class="Pp">The following functions shall be defined when the <b>-l</b> option
    is specified:</p>
<dl class="Bl-tag">
  <dt id="s"><a class="permalink" href="#s"><b>s</b>(&nbsp;<i>expression</i>&nbsp;)</a></dt>
  <dd>
    <br>
    Sine of argument in radians.</dd>
  <dt id="c"><a class="permalink" href="#c"><b>c</b>(&nbsp;<i>expression</i>&nbsp;)</a></dt>
  <dd>
    <br>
    Cosine of argument in radians.</dd>
  <dt id="a"><a class="permalink" href="#a"><b>a</b>(&nbsp;<i>expression</i>&nbsp;)</a></dt>
  <dd>
    <br>
    Arctangent of argument.</dd>
  <dt id="l~2"><a class="permalink" href="#l~2"><b>l</b>(&nbsp;<i>expression</i>&nbsp;)</a></dt>
  <dd>
    <br>
    Natural logarithm of argument.</dd>
  <dt id="e"><a class="permalink" href="#e"><b>e</b>(&nbsp;<i>expression</i>&nbsp;)</a></dt>
  <dd>
    <br>
    Exponential function of argument.</dd>
  <dt id="j"><a class="permalink" href="#j"><b>j</b>(&nbsp;<i>expression1</i>,&nbsp;<i>expression2</i>&nbsp;)</a></dt>
  <dd>
    <br>
    Bessel function of <i>expression2</i> of the first kind of integer order
      <i>expression1</i>.</dd>
</dl>
<p class="Pp">The scale of the result returned by these functions shall be the
    value of the <b>scale</b> register at the time the function is invoked. The
    value of the <b>scale</b> register after these functions have completed
    their execution shall be the same value it had upon invocation. The behavior
    is undefined if any of these functions is invoked with an argument outside
    the domain of the mathematical function.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<p class="Pp">The following exit values shall be returned:</p>
<dl class="Bl-tag">
  <dt>0</dt>
  <dd>All input files were processed successfully.</dd>
  <dt id="unspecified"><a class="permalink" href="#unspecified"><i>unspecified</i></a></dt>
  <dd>An error occurred.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="CONSEQUENCES_OF_ERRORS"><a class="permalink" href="#CONSEQUENCES_OF_ERRORS">CONSEQUENCES
  OF ERRORS</a></h1>
<p class="Pp">If any <i>file</i> operand is specified and the named file cannot
    be accessed, <i>bc</i> shall write a diagnostic message to standard error
    and terminate without any further action.</p>
<p class="Pp">In an interactive invocation of <i>bc</i>, the utility should
    print an error message and recover following any error in the input. In a
    non-interactive invocation of <i>bc</i>, invalid input causes undefined
    behavior.</p>
<p class="Pp"><i>The following sections are informative.</i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="APPLICATION_USAGE"><a class="permalink" href="#APPLICATION_USAGE">APPLICATION
  USAGE</a></h1>
<p class="Pp">Automatic variables in <i>bc</i> do not work in exactly the same
    way as in either C or PL/1.</p>
<p class="Pp">For historical reasons, the exit status from <i>bc</i> cannot be
    relied upon to indicate that an error has occurred. Returning zero after an
    error is possible. Therefore, <i>bc</i> should be used primarily by
    interactive users (who can react to error messages) or by application
    programs that can somehow validate the answers returned as not including
    error messages.</p>
<p class="Pp">The <i>bc</i> utility always uses the &lt;period&gt; (<b>'.'</b>)
    character to represent a radix point, regardless of any decimal-point
    character specified as part of the current locale. In languages like C or
    <i>awk</i>, the &lt;period&gt; character is used in program source, so it
    can be portable and unambiguous, while the locale-specific character is used
    in input and output. Because there is no distinction between source and
    input in <i>bc</i>, this arrangement would not be possible. Using the
    locale-specific character in <i>bc</i>'s input would introduce ambiguities
    into the language; consider the following example in a locale with a
    &lt;comma&gt; as the decimal-point character:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>define f(a,b) {
<br>
    ...
}
...</pre>
<pre>f(1,2,3)</pre>
</div>
<p class="Pp">Because of such ambiguities, the &lt;period&gt; character is used
    in input. Having input follow different conventions from output would be
    confusing in either pipeline usage or interactive usage, so the
    &lt;period&gt; is also used in output.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">In the shell, the following assigns an approximation of the first
    ten digits of <b>'π'</b> to the variable <i>x</i>:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>x=$(printf "%s\n" 'scale = 10; 104348/33215' | bc)</pre>
</div>
<p class="Pp">The following <i>bc</i> program prints the same approximation of
    <b>'π'</b>, with a label, to standard output:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>scale = 10
"pi equals "
104348 / 33215</pre>
</div>
<p class="Pp">The following defines a function to compute an approximate value
    of the exponential function (note that such a function is predefined if the
    <b>-l</b> option is specified):</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>scale = 20
define e(x){
<br>
    auto a, b, c, i, s
<br>
    a = 1
<br>
    b = 1
<br>
    s = 1
<br>
    for (i = 1; 1 == 1; i++){
<br>
        a = a*x
<br>
        b = b*i
<br>
        c = a/b
<br>
        if (c == 0) {
<br>
             return(s)
<br>
        }
<br>
        s = s+c
<br>
    }
}</pre>
</div>
<p class="Pp">The following prints approximate values of the exponential
    function of the first ten integers:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>for (i = 1; i &lt;= 10; ++i) {
<br>
    e(i)
}</pre>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="RATIONALE"><a class="permalink" href="#RATIONALE">RATIONALE</a></h1>
<p class="Pp">The <i>bc</i> utility is implemented historically as a front-end
    processor for <i>dc</i>; <i>dc</i> was not selected to be part of this
    volume of POSIX.1‐2017 because <i>bc</i> was thought to have a more
    intuitive programmatic interface. Current implementations that implement
    <i>bc</i> using <i>dc</i> are expected to be compliant.</p>
<p class="Pp">The exit status for error conditions has been left unspecified for
    several reasons:</p>
<dl class="Bl-tag">
  <dt> *</dt>
  <dd>The <i>bc</i> utility is used in both interactive and non-interactive
      situations. Different exit codes may be appropriate for the two uses.</dd>
  <dt> *</dt>
  <dd>It is unclear when a non-zero exit should be given; divide-by-zero,
      undefined functions, and syntax errors are all possibilities.</dd>
  <dt> *</dt>
  <dd>It is not clear what utility the exit status has.</dd>
  <dt> *</dt>
  <dd>In the 4.3 BSD, System V, and Ninth Edition implementations, <i>bc</i>
      works in conjunction with <i>dc</i>. The <i>dc</i> utility is the parent,
      <i>bc</i> is the child. This was done to cleanly terminate <i>bc</i> if
      <i>dc</i> aborted.</dd>
</dl>
<p class="Pp">The decision to have <i>bc</i> exit upon encountering an
    inaccessible input file is based on the belief that <i>bc</i> <i>file1</i>
    <i>file2</i> is used most often when at least <i>file1</i> contains
    data/function declarations/initializations. Having <i>bc</i> continue with
    prerequisite files missing is probably not useful. There is no implication
    in the CONSEQUENCES OF ERRORS section that <i>bc</i> must check all its
    files for accessibility before opening any of them.</p>
<p class="Pp">There was considerable debate on the appropriateness of the
    language accepted by <i>bc</i>. Several reviewers preferred to see either a
    pure subset of the C language or some changes to make the language more
    compatible with C. While the <i>bc</i> language has some obvious
    similarities to C, it has never claimed to be compatible with any version of
    C. An interpreter for a subset of C might be a very worthwhile utility, and
    it could potentially make <i>bc</i> obsolete. However, no such utility is
    known in historical practice, and it was not within the scope of this volume
    of POSIX.1‐2017 to define such a language and utility. If and when
    they are defined, it may be appropriate to include them in a future version
    of this standard. This left the following alternatives:</p>
<dl class="Bl-tag">
  <dt> 1.</dt>
  <dd>Exclude any calculator language from this volume of
    POSIX.1‐2017.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">The consensus of the standard developers was that a simple
    programmatic calculator language is very useful for both applications and
    interactive users. The only arguments for excluding any calculator were that
    it would become obsolete if and when a C-compatible one emerged, or that the
    absence would encourage the development of such a C-compatible one. These
    arguments did not sufficiently address the needs of current application
    developers.</p>
</div>
<dl class="Bl-tag">
  <dt> 2.</dt>
  <dd>Standardize the historical <i>dc</i>, possibly with minor
    modifications.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">The consensus of the standard developers was that <i>dc</i> is a
    fundamentally less usable language and that that would be far too severe a
    penalty for avoiding the issue of being similar to but incompatible with
  C.</p>
</div>
<dl class="Bl-tag">
  <dt> 3.</dt>
  <dd>Standardize the historical <i>bc</i>, possibly with minor
    modifications.</dd>
</dl>
<div class="Bd-indent">
<p class="Pp">This was the approach taken. Most of the proponents of changing
    the language would not have been satisfied until most or all of the
    incompatibilities with C were resolved. Since most of the changes considered
    most desirable would break historical applications and require significant
    modification to historical implementations, almost no modifications were
    made. The one significant modification that was made was the replacement of
    the historical <i>bc</i> assignment operators <b>"=+"</b>, and so
    on, with the more modern <b>"+="</b>, and so on. The older
    versions are considered to be fundamentally flawed because of the lexical
    ambiguity in uses like <i>a</i>=-1.</p>
<p class="Pp">In order to permit implementations to deal with
    backwards-compatibility as they see fit, the behavior of this one ambiguous
    construct was made undefined. (At least three implementations have been
    known to support this change already, so the degree of change involved
    should not be great.)</p>
</div>
<p class="Pp">The <b>'%'</b> operator is the mathematical remainder operator
    when <b>scale</b> is zero. The behavior of this operator for other values of
    <b>scale</b> is from historical implementations of <i>bc</i>, and has been
    maintained for the sake of historical applications despite its non-intuitive
    nature.</p>
<p class="Pp">Historical implementations permit setting <b>ibase</b> and
    <b>obase</b> to a broader range of values. This includes values less than 2,
    which were not seen as sufficiently useful to standardize. These
    implementations do not interpret input properly for values of <b>ibase</b>
    that are greater than 16. This is because numeric constants are recognized
    syntactically, rather than lexically, as described in this volume of
    POSIX.1‐2017. They are built from lexical tokens of single
    hexadecimal digits and &lt;period&gt; characters. Since &lt;blank&gt;
    characters between tokens are not visible at the syntactic level, it is not
    possible to recognize the multi-digit ``digits'' used in the higher bases
    properly. The ability to recognize input in these bases was not considered
    useful enough to require modifying these implementations. Note that the
    recognition of numeric constants at the syntactic level is not a problem
    with conformance to this volume of POSIX.1‐2017, as it does not
    impact the behavior of conforming applications (and correct <i>bc</i>
    programs). Historical implementations also accept input with all of the
    digits <b>'0'</b>-<b>'9'</b> and <b>'A'</b>-<b>'F'</b> regardless of the
    value of <b>ibase</b>; since digits with value greater than or equal to
    <b>ibase</b> are not really appropriate, the behavior when they appear is
    undefined, except for the common case of:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>ibase=8;
<br>
    /* Process in octal base. */
...
ibase=A
<br>
    /* Restore decimal base. */</pre>
</div>
<p class="Pp">In some historical implementations, if the expression to be
    written is an uninitialized array element, a leading &lt;space&gt; and/or up
    to four leading 0 characters may be output before the character zero. This
    behavior is considered a bug; it is unlikely that any currently conforming
    application relies on:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>echo 'b[3]' | bc</pre>
</div>
<p class="Pp">returning 00000 rather than 0.</p>
<p class="Pp">Exact calculation of the number of fractional digits to output for
    a given value in a base other than 10 can be computationally expensive.
    Historical implementations use a faster approximation, and this is
    permitted. Note that the requirements apply only to values of <b>obase</b>
    that this volume of POSIX.1‐2017 requires implementations to support
    (in particular, not to 1, 0, or negative bases, if an implementation
    supports them as an extension).</p>
<p class="Pp">Historical implementations of <i>bc</i> did not allow array
    parameters to be passed as the last parameter to a function. New
    implementations are encouraged to remove this restriction even though it is
    not required by the grammar.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FUTURE_DIRECTIONS"><a class="permalink" href="#FUTURE_DIRECTIONS">FUTURE
  DIRECTIONS</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><i>Section 1.3</i>, <i>Grammar Conventions</i>,
  <i><i>awk</i></i></p>
<p class="Pp">The Base Definitions volume of POSIX.1‐2017, <i>Chapter
    8</i>, <i>Environment Variables</i>, <i>Section 12.2</i>, <i>Utility Syntax
    Guidelines</i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Portions of this text are reprinted and reproduced in electronic
    form from IEEE Std 1003.1-2017, Standard for Information Technology --
    Portable Operating System Interface (POSIX), The Open Group Base
    Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of
    Electrical and Electronics Engineers, Inc and The Open Group. In the event
    of any discrepancy between this version and the original IEEE and The Open
    Group Standard, the original IEEE and The Open Group Standard is the referee
    document. The original Standard can be obtained online at
    http://www.opengroup.org/unix/online.html .</p>
<p class="Pp">Any typographical or formatting errors that appear in this page
    are most likely to have been introduced during the conversion of the source
    files to man page format. To report such errors, see
    https://www.kernel.org/doc/man-pages/reporting_bugs.html .</p>
</section>
</div>
<table class="foot">
  <tbody><tr>
    <td class="foot-date">2017</td>
    <td class="foot-os">IEEE/The Open Group</td>
  </tr>
</tbody></table>
</div>


<script id="res-script" src="/res/dist/res/main.js" type="text/javascript"></script>
</body></html>