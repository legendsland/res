<!DOCTYPE html><html><!-- This is an automatically generated file.  Do not edit.
   et
 --><head>
<meta name="dc.identifier" content="res/3994272a70cf10b2fc8d758e02eb02fabae862fe">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>M4(1P)</title>
<link id="res-style" rel="stylesheet" href="/res/dist/res/style.css" type="text/css">
</head>
<body>
<div id="book-container">
<table class="head">
  <tbody><tr>
    <td class="head-ltitle">M4(1P)</td>
    <td class="head-vol">POSIX Programmer's Manual</td>
    <td class="head-rtitle">M4(1P)</td>
  </tr>
</tbody></table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="PROLOG"><a class="permalink" href="#PROLOG">PROLOG</a></h1>
<p class="Pp">This manual page is part of the POSIX Programmer's Manual. The
    Linux implementation of this interface may differ (consult the corresponding
    Linux manual page for details of Linux behavior), or the interface may not
    be implemented on Linux.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">m4 — macro processor</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>m4 <b>[</b>-s<b>] [</b>-D <i>name</i><b>[</b>=<i>val</i><b>]]</b>...<b> [</b>-U <i>name</i><b>]</b>... <i>file</i>...</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <i>m4</i> utility is a macro processor that shall read one or
    more text files, process them according to their included macro statements,
    and write the results to standard output.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp">The <i>m4</i> utility shall conform to the Base Definitions volume
    of POSIX.1‐2017, <i>Section 12.2</i>, <i>Utility Syntax
    Guidelines</i>, except that the order of the <b>-D</b> and <b>-U</b> options
    shall be significant, and options can be interspersed with operands.</p>
<p class="Pp">The following options shall be supported:</p>
<dl class="Bl-tag">
  <dt id="s"><a class="permalink" href="#s"><b>-s</b></a></dt>
  <dd>Enable line synchronization output for the <i>c99</i> preprocessor phase
      (that is, <b>#line</b> directives).</dd>
  <dt id="D"><a class="permalink" href="#D"><b>-D&nbsp;</b><i>name</i><b>[</b>=<i>val</i><b>]</b></a></dt>
  <dd>
    <br>
    Define <i>name</i> to <i>val</i> or to null if =<i>val</i> is omitted.</dd>
  <dt id="U"><a class="permalink" href="#U"><b>-U&nbsp;</b><i>name</i></a></dt>
  <dd>Undefine <i>name</i>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="OPERANDS"><a class="permalink" href="#OPERANDS">OPERANDS</a></h1>
<p class="Pp">The following operand shall be supported:</p>
<dl class="Bl-tag">
  <dt id="file"><a class="permalink" href="#file"><i>file</i></a></dt>
  <dd>A pathname of a text file to be processed. If no <i>file</i> is given, or
      if it is <b>'-'</b>, the standard input shall be read.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="STDIN"><a class="permalink" href="#STDIN">STDIN</a></h1>
<p class="Pp">The standard input shall be a text file that is used if no
    <i>file</i> operand is given, or if it is <b>'-'</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="INPUT_FILES"><a class="permalink" href="#INPUT_FILES">INPUT
  FILES</a></h1>
<p class="Pp">The input file named by the <i>file</i> operand shall be a text
    file.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT_VARIABLES"><a class="permalink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<p class="Pp">The following environment variables shall affect the execution of
    <i>m4</i>:</p>
<dl class="Bl-tag">
  <dt id="LANG"><a class="permalink" href="#LANG"><i>LANG</i></a></dt>
  <dd>Provide a default value for the internationalization variables that are
      unset or null. (See the Base Definitions volume of POSIX.1‐2017,
      <i>Section 8.2</i>, <i>Internationalization Variables</i> for the
      precedence of internationalization variables used to determine the values
      of locale categories.)</dd>
  <dt id="LC_ALL"><a class="permalink" href="#LC_ALL"><i>LC_ALL</i></a></dt>
  <dd>If set to a non-empty string value, override the values of all the other
      internationalization variables.</dd>
  <dt id="LC_CTYPE"><a class="permalink" href="#LC_CTYPE"><i>LC_CTYPE</i></a></dt>
  <dd>Determine the locale for the interpretation of sequences of bytes of text
      data as characters (for example, single-byte as opposed to multi-byte
      characters in arguments and input files).</dd>
  <dt id="LC_MESSAGES"><a class="permalink" href="#LC_MESSAGES"><i>LC_MESSAGES</i></a></dt>
  <dd>
    <br>
    Determine the locale that should be used to affect the format and contents
      of diagnostic messages written to standard error.</dd>
  <dt id="NLSPATH"><a class="permalink" href="#NLSPATH"><i>NLSPATH</i></a></dt>
  <dd>Determine the location of message catalogs for the processing of
      <i>LC_MESSAGES</i>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="ASYNCHRONOUS_EVENTS"><a class="permalink" href="#ASYNCHRONOUS_EVENTS">ASYNCHRONOUS
  EVENTS</a></h1>
<p class="Pp">Default.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STDOUT"><a class="permalink" href="#STDOUT">STDOUT</a></h1>
<p class="Pp">The standard output shall be the same as the input files, after
    being processed for macro expansion.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STDERR"><a class="permalink" href="#STDERR">STDERR</a></h1>
<p class="Pp">The standard error shall be used to display strings with the
    <b>errprint</b> macro, macro tracing enabled by the <b>traceon</b> macro,
    the defined text for macros written by the <b>dumpdef</b> macro, or for
    diagnostic messages.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OUTPUT_FILES"><a class="permalink" href="#OUTPUT_FILES">OUTPUT
  FILES</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXTENDED_DESCRIPTION"><a class="permalink" href="#EXTENDED_DESCRIPTION">EXTENDED
  DESCRIPTION</a></h1>
<p class="Pp">The <i>m4</i> utility shall compare each token from the input
    against the set of built-in and user-defined macros. If the token matches
    the name of a macro, then the token shall be replaced by the macro's
    defining text, if any, and rescanned for matching macro names. Once no
    portion of the token matches the name of a macro, it shall be written to
    standard output. Macros may have arguments, in which case the arguments
    shall be substituted into the defining text before it is rescanned.</p>
<p class="Pp">Macro calls have the form:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre><i>name</i>(<i>arg1</i>, <i>arg2</i>, ..., <i>argn</i>)</pre>
</div>
<p class="Pp">Macro names shall consist of letters, digits, and underscores,
    where the first character is not a digit. Tokens not of this form shall not
    be treated as macros.</p>
<p class="Pp">The application shall ensure that the &lt;left-parenthesis&gt;
    immediately follows the name of the macro. If a token matching the name of a
    macro is not followed by a &lt;left-parenthesis&gt;, it is handled as a use
    of that macro without arguments.</p>
<p class="Pp">If a macro name is followed by a &lt;left-parenthesis&gt;, its
    arguments are the &lt;comma&gt;-separated tokens between the
    &lt;left-parenthesis&gt; and the matching &lt;right-parenthesis&gt;.
    Unquoted white-space characters preceding each argument shall be ignored.
    All other characters, including trailing white-space characters, are
    retained. &lt;comma&gt; characters enclosed between &lt;left-parenthesis&gt;
    and &lt;right-parenthesis&gt; characters do not delimit arguments.</p>
<p class="Pp">Arguments are positionally defined and referenced. The string
    <b>"$1"</b> in the defining text shall be replaced by the first
    argument. Systems shall support at least nine arguments; only the first nine
    can be referenced, using the strings <b>"$1"</b> to
    <b>"$9"</b>, inclusive. The string <b>"$0"</b> is
    replaced with the name of the macro. The string <b>"$#"</b> is
    replaced by the number of arguments as a string. The string
    <b>"$*"</b> is replaced by a list of all of the arguments,
    separated by &lt;comma&gt; characters. The string <b>"$@"</b> is
    replaced by a list of all of the arguments separated by &lt;comma&gt;
    characters, and each argument is quoted using the current left and right
    quoting strings. The string <b>"${"</b> produces unspecified
    behavior.</p>
<p class="Pp">If fewer arguments are supplied than are in the macro definition,
    the omitted arguments are taken to be null. It is not an error if more
    arguments are supplied than are in the macro definition.</p>
<p class="Pp">No special meaning is given to any characters enclosed between
    matching left and right quoting strings, but the quoting strings are
    themselves discarded. By default, the left quoting string consists of a
    grave accent (backquote) and the right quoting string consists of an acute
    accent (single-quote); see also the <b>changequote</b> macro.</p>
<p class="Pp">Comments are written but not scanned for matching macro names; by
    default, the begin-comment string consists of the &lt;number-sign&gt;
    character and the end-comment string consists of a &lt;newline&gt;. See also
    the <b>changecom</b> and <b>dnl</b> macros.</p>
<p class="Pp">The <i>m4</i> utility shall make available the following built-in
    macros. They can be redefined, but once this is done the original meaning is
    lost. Their values shall be null unless otherwise stated. In the
    descriptions below, the term <i>defining text</i> refers to the value of the
    macro: the second argument to the <b>define</b> macro, among other things.
    Except for the first argument to the <b>eval</b> macro, all numeric
    arguments to built-in macros shall be interpreted as decimal values. The
    string values produced as the defining text of the <b>decr</b>,
    <b>divnum</b>, <b>incr</b>, <b>index</b>, <b>len</b>, and <b>sysval</b>
    built-in macros shall be in the form of a decimal-constant as defined in the
    C language.</p>
<dl class="Bl-tag">
  <dt id="changecom"><a class="permalink" href="#changecom"><b>changecom</b></a></dt>
  <dd>The <b>changecom</b> macro shall set the begin-comment and end-comment
      strings. With no arguments, the comment mechanism shall be disabled. With
      a single non-null argument, that argument shall become the begin-comment
      and the &lt;newline&gt; shall become the end-comment string. With two
      non-null arguments, the first argument shall become the begin-comment
      string and the second argument shall become the end-comment string. The
      behavior is unspecified if either argument is provided but null. Systems
      shall support comment strings of at least five characters.</dd>
  <dt id="changequote"><a class="permalink" href="#changequote"><b>changequote</b></a></dt>
  <dd>The <b>changequote</b> macro shall set the begin-quote and end-quote
      strings. With no arguments, the quote strings shall be set to the default
      values (that is, `'). The behavior is unspecified if there is a single
      argument or either argument is null. With two non-null arguments, the
      first argument shall become the begin-quote string and the second argument
      shall become the end-quote string. Systems shall support quote strings of
      at least five characters.</dd>
  <dt id="decr"><a class="permalink" href="#decr"><b>decr</b></a></dt>
  <dd>The defining text of the <b>decr</b> macro shall be its first argument
      decremented by 1. It shall be an error to specify an argument containing
      any non-numeric characters. The behavior is unspecified if <b>decr</b> is
      not immediately followed by a &lt;left-parenthesis&gt;.</dd>
  <dt id="define"><a class="permalink" href="#define"><b>define</b></a></dt>
  <dd>The second argument shall become the defining text of the macro whose name
      is the first argument. It is unspecified whether the <b>define</b> macro
      deletes all prior definitions of the macro named by its first argument or
      preserves all but the current definition of the macro. The behavior is
      unspecified if <b>define</b> is not immediately followed by a
      &lt;left-parenthesis&gt;.</dd>
  <dt id="defn"><a class="permalink" href="#defn"><b>defn</b></a></dt>
  <dd>The defining text of the <b>defn</b> macro shall be the quoted definition
      (using the current quoting strings) of its arguments. The behavior is
      unspecified if <b>defn</b> is not immediately followed by a
      &lt;left-parenthesis&gt;.</dd>
  <dt id="divert"><a class="permalink" href="#divert"><b>divert</b></a></dt>
  <dd>The <i>m4</i> utility maintains nine temporary buffers, numbered 1 to 9,
      inclusive. When the last of the input has been processed, any output that
      has been placed in these buffers shall be written to standard output in
      buffer-numerical order. The <b>divert</b> macro shall divert future output
      to the buffer specified by its argument. Specifying no argument or an
      argument of 0 shall resume the normal output process. Output diverted to a
      stream with a negative number shall be discarded. Behavior is
      implementation-defined if a stream number larger than 9 is specified. It
      shall be an error to specify an argument containing any non-numeric
      characters.</dd>
  <dt id="divnum"><a class="permalink" href="#divnum"><b>divnum</b></a></dt>
  <dd>The defining text of the <b>divnum</b> macro shall be the number of the
      current output stream as a string.</dd>
  <dt id="dnl"><a class="permalink" href="#dnl"><b>dnl</b></a></dt>
  <dd>The <b>dnl</b> macro shall cause <i>m4</i> to discard all input characters
      up to and including the next &lt;newline&gt;.</dd>
  <dt id="dumpdef"><a class="permalink" href="#dumpdef"><b>dumpdef</b></a></dt>
  <dd>The <b>dumpdef</b> macro shall write the defined text to standard error
      for each of the macros specified as arguments, or, if no arguments are
      specified, for all macros.</dd>
  <dt id="errprint"><a class="permalink" href="#errprint"><b>errprint</b></a></dt>
  <dd>The <b>errprint</b> macro shall write its arguments to standard error. The
      behavior is unspecified if <b>errprint</b> is not immediately followed by
      a &lt;left-parenthesis&gt;.</dd>
  <dt id="eval"><a class="permalink" href="#eval"><b>eval</b></a></dt>
  <dd>The <b>eval</b> macro shall evaluate its first argument as an arithmetic
      expression, using signed integer arithmetic with at least 32-bit
      precision. At least the following C-language operators shall be supported,
      with precedence, associativity, and behavior as described in <i>Section
      1.1.2.1</i>, <i>Arithmetic Precision and Operations</i>:</dd>
</dl>
<div class="Bd-indent">
<p class="Pp"></p>
<div class="Bd-indent">
<pre>()
unary +
unary -
~</pre>
<pre>!
binary *
/
%
binary +
binary -
&lt;&lt;
&gt;&gt;
&lt;
&lt;=
&gt;
&gt;=
==
!=
binary &amp;
^
|
&amp;&amp;
||</pre>
</div>
<p class="Pp">Systems shall support octal and hexadecimal numbers as in the
    ISO&nbsp;C standard. The second argument, if specified, shall set the
    radix for the result; if the argument is blank or unspecified, the default
    is 10. Behavior is unspecified if the radix falls outside the range 2 to 36,
    inclusive. The third argument, if specified, sets the minimum number of
    digits in the result. Behavior is unspecified if the third argument is less
    than zero. It shall be an error to specify the second or third argument
    containing any non-numeric characters. The behavior is unspecified if
    <b>eval</b> is not immediately followed by a &lt;left-parenthesis&gt;.</p>
</div>
<dl class="Bl-tag">
  <dt id="ifdef"><a class="permalink" href="#ifdef"><b>ifdef</b></a></dt>
  <dd>If the first argument to the <b>ifdef</b> macro is defined, the defining
      text shall be the second argument. Otherwise, the defining text shall be
      the third argument, if specified, or the null string, if not. The behavior
      is unspecified if <b>ifdef</b> is not immediately followed by a
      &lt;left-parenthesis&gt;.</dd>
  <dt id="ifelse"><a class="permalink" href="#ifelse"><b>ifelse</b></a></dt>
  <dd>The <b>ifelse</b> macro takes three or more arguments. If the first two
      arguments compare as equal strings (after macro expansion of both
      arguments), the defining text shall be the third argument. If the first
      two arguments do not compare as equal strings and there are three
      arguments, the defining text shall be null. If the first two arguments do
      not compare as equal strings and there are four or five arguments, the
      defining text shall be the fourth argument. If the first two arguments do
      not compare as equal strings and there are six or more arguments, the
      first three arguments shall be discarded and processing shall restart with
      the remaining arguments. The behavior is unspecified if <b>ifelse</b> is
      not immediately followed by a &lt;left-parenthesis&gt;.</dd>
  <dt id="include"><a class="permalink" href="#include"><b>include</b></a></dt>
  <dd>The defining text for the <b>include</b> macro shall be the contents of
      the file named by the first argument. It shall be an error if the file
      cannot be read. The behavior is unspecified if <b>include</b> is not
      immediately followed by a &lt;left-parenthesis&gt;.</dd>
  <dt id="incr"><a class="permalink" href="#incr"><b>incr</b></a></dt>
  <dd>The defining text of the <b>incr</b> macro shall be its first argument
      incremented by 1. It shall be an error to specify an argument containing
      any non-numeric characters. The behavior is unspecified if <b>incr</b> is
      not immediately followed by a &lt;left-parenthesis&gt;.</dd>
  <dt id="index"><a class="permalink" href="#index"><b>index</b></a></dt>
  <dd>The defining text of the <b>index</b> macro shall be the first character
      position (as a string) in the first argument where a string matching the
      second argument begins (zero origin), or -1 if the second argument does
      not occur. The behavior is unspecified if <b>index</b> is not immediately
      followed by a &lt;left-parenthesis&gt;.</dd>
  <dt id="len"><a class="permalink" href="#len"><b>len</b></a></dt>
  <dd>The defining text of the <b>len</b> macro shall be the length (as a
      string) of the first argument. The behavior is unspecified if <b>len</b>
      is not immediately followed by a &lt;left-parenthesis&gt;.</dd>
  <dt id="m4exit"><a class="permalink" href="#m4exit"><b>m4exit</b></a></dt>
  <dd>Exit from the <i>m4</i> utility. If the first argument is specified, it
      shall be the exit code. If no argument is specified, the exit code shall
      be zero. It shall be an error to specify an argument containing any
      non-numeric characters. If the first argument is zero or no argument is
      specified, and an error has previously occurred (for example, a
      <i>file</i> operand that could not be opened), it is unspecified whether
      the exit status is zero or non-zero.</dd>
  <dt id="m4wrap"><a class="permalink" href="#m4wrap"><b>m4wrap</b></a></dt>
  <dd>The first argument shall be processed when EOF is reached. If the
      <b>m4wrap</b> macro is used multiple times, the arguments specified shall
      be processed in the order in which the <b>m4wrap</b> macros were
      processed. The behavior is unspecified if <b>m4wrap</b> is not immediately
      followed by a &lt;left-parenthesis&gt;.</dd>
  <dt id="maketemp"><a class="permalink" href="#maketemp"><b>maketemp</b></a></dt>
  <dd>The defining text shall be the first argument, with any trailing
      <b>'X'</b> characters replaced with the current process ID as a string.
      The behavior is unspecified if <b>maketemp</b> is not immediately followed
      by a &lt;left-parenthesis&gt;.</dd>
  <dt id="mkstemp"><a class="permalink" href="#mkstemp"><b>mkstemp</b></a></dt>
  <dd>The defining text shall be as if it were the resulting pathname after a
      successful call to the <i>mkstemp</i>() function defined in the System
      Interfaces volume of POSIX.1‐2017 called with the first argument to
      the macro invocation. If a file is created, that file shall be closed. If
      a file could not be created, the <i>m4</i> utility shall write a
      diagnostic message to standard error and shall continue processing input
      but its final exit status shall be non-zero; the defining text of the
      macro shall be the empty string. The behavior is unspecified if
      <b>mkstemp</b> is not immediately followed by a
    &lt;left-parenthesis&gt;.</dd>
  <dt id="popdef"><a class="permalink" href="#popdef"><b>popdef</b></a></dt>
  <dd>The <b>popdef</b> macro shall delete the current definition of its
      arguments, replacing that definition with the previous one. If there is no
      previous definition, the macro is undefined. The behavior is unspecified
      if <b>popdef</b> is not immediately followed by a
      &lt;left-parenthesis&gt;.</dd>
  <dt id="pushdef"><a class="permalink" href="#pushdef"><b>pushdef</b></a></dt>
  <dd>The <b>pushdef</b> macro shall be equivalent to the <b>define</b> macro
      with the exception that it shall preserve any current definition for
      future retrieval using the <b>popdef</b> macro. The behavior is
      unspecified if <b>pushdef</b> is not immediately followed by a
      &lt;left-parenthesis&gt;.</dd>
  <dt id="shift"><a class="permalink" href="#shift"><b>shift</b></a></dt>
  <dd>The defining text for the <b>shift</b> macro shall be a comma-separated
      list of its arguments except the first one. Each argument shall be quoted
      using the current quoting strings. The behavior is unspecified if
      <b>shift</b> is not immediately followed by a
    &lt;left-parenthesis&gt;.</dd>
  <dt id="sinclude"><a class="permalink" href="#sinclude"><b>sinclude</b></a></dt>
  <dd>The <b>sinclude</b> macro shall be equivalent to the <b>include</b> macro,
      except that it shall not be an error if the file is inaccessible. The
      behavior is unspecified if <b>sinclude</b> is not immediately followed by
      a &lt;left-parenthesis&gt;.</dd>
  <dt id="substr"><a class="permalink" href="#substr"><b>substr</b></a></dt>
  <dd>The defining text for the <b>substr</b> macro shall be the substring of
      the first argument beginning at the zero-offset character position
      specified by the second argument. The third argument, if specified, shall
      be the number of characters to select; if not specified, the characters
      from the starting point to the end of the first argument shall become the
      defining text. It shall not be an error to specify a starting point beyond
      the end of the first argument and the defining text shall be null. It
      shall be an error to specify an argument containing any non-numeric
      characters. The behavior is unspecified if <b>substr</b> is not
      immediately followed by a &lt;left-parenthesis&gt;.</dd>
  <dt id="syscmd"><a class="permalink" href="#syscmd"><b>syscmd</b></a></dt>
  <dd>The <b>syscmd</b> macro shall interpret its first argument as a shell
      command line. The defining text shall be the string result of that
      command. The string result shall not be rescanned for macros while setting
      the defining text. No output redirection shall be performed by the
      <i>m4</i> utility. The exit status value from the command can be retrieved
      using the <b>sysval</b> macro. The behavior is unspecified if
      <b>syscmd</b> is not immediately followed by a
    &lt;left-parenthesis&gt;.</dd>
  <dt id="sysval"><a class="permalink" href="#sysval"><b>sysval</b></a></dt>
  <dd>The defining text of the <b>sysval</b> macro shall be the exit value of
      the utility last invoked by the <b>syscmd</b> macro (as a string).</dd>
  <dt id="traceon"><a class="permalink" href="#traceon"><b>traceon</b></a></dt>
  <dd>The <b>traceon</b> macro shall enable tracing for the macros specified as
      arguments, or, if no arguments are specified, for all macros. The trace
      output shall be written to standard error in an unspecified format.</dd>
  <dt id="traceoff"><a class="permalink" href="#traceoff"><b>traceoff</b></a></dt>
  <dd>The <b>traceoff</b> macro shall disable tracing for the macros specified
      as arguments, or, if no arguments are specified, for all macros.</dd>
  <dt id="translit"><a class="permalink" href="#translit"><b>translit</b></a></dt>
  <dd>The defining text of the <b>translit</b> macro shall be the first argument
      with every character that occurs in the second argument replaced with the
      corresponding character from the third argument. If no replacement
      character is specified for some source character because the second
      argument is longer than the third argument, that character shall be
      deleted from the first argument in <b>translit</b>'s defining text. The
      behavior is unspecified if the <b>'-'</b> character appears within the
      second or third argument anywhere besides the first or last character. The
      behavior is unspecified if the same character appears more than once in
      the second argument. The behavior is unspecified if <b>translit</b> is not
      immediately followed by a &lt;left-parenthesis&gt;.</dd>
  <dt id="undefine"><a class="permalink" href="#undefine"><b>undefine</b></a></dt>
  <dd>The <b>undefine</b> macro shall delete all definitions (including those
      preserved using the <b>pushdef</b> macro) of the macros named by its
      arguments. The behavior is unspecified if <b>undefine</b> is not
      immediately followed by a &lt;left-parenthesis&gt;.</dd>
  <dt id="undivert"><a class="permalink" href="#undivert"><b>undivert</b></a></dt>
  <dd>The <b>undivert</b> macro shall cause immediate output of any text in
      temporary buffers named as arguments, or all temporary buffers if no
      arguments are specified. Buffers can be undiverted into other temporary
      buffers. Undiverting shall discard the contents of the temporary buffer.
      The behavior is unspecified if an argument contains any non-numeric
      characters.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<p class="Pp">The following exit values shall be returned:</p>
<dl class="Bl-tag">
  <dt>&nbsp;0</dt>
  <dd>Successful completion.</dd>
  <dt>&gt;0</dt>
  <dd>An error occurred</dd>
</dl>
<p class="Pp">If the <b>m4exit</b> macro is used, the exit value can be
    specified by the input file.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CONSEQUENCES_OF_ERRORS"><a class="permalink" href="#CONSEQUENCES_OF_ERRORS">CONSEQUENCES
  OF ERRORS</a></h1>
<p class="Pp">Default.</p>
<p class="Pp"><i>The following sections are informative.</i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="APPLICATION_USAGE"><a class="permalink" href="#APPLICATION_USAGE">APPLICATION
  USAGE</a></h1>
<p class="Pp">The <b>defn</b> macro is useful for renaming macros, especially
    built-ins.</p>
<p class="Pp">Since <b>eval</b> defers to the ISO&nbsp;C standard, some
    operations have undefined behavior. In some implementations, division or
    remainder by zero cause a fatal signal, even if the division occurs on the
    short-circuited branch of <b>"&amp;&amp;"</b> or
    <b>"||"</b>. Any operation that overflows in signed arithmetic
    produces undefined behavior. Likewise, using the <b>shift</b> operators with
    a shift amount that is not positive and smaller than the precision is
    undefined, as is shifting a negative number to the right. Historically, not
    all implementations obeyed C-language precedence rules: <b>'~'</b> and
    <b>'!'</b> were lower than <b>'=='</b>; <b>'=='</b> and <b>'!='</b> were not
    lower than <b>'&lt;'</b>; and <b>'|'</b> was not lower than <b>'^'</b>; the
    liberal use of <b>"()"</b> can force the desired precedence even
    with these non-compliant implementations. Furthermore, some traditional
    implementations treated <b>'^'</b> as an exponentiation operator, although
    most implementations now use <b>"**"</b> as an extension for this
    purpose.</p>
<p class="Pp">When a macro has been multiply defined via the <b>pushdef</b>
    macro, it is unspecified whether the <b>define</b> macro will alter only the
    most recent definition (as though by <b>popdef</b> and <b>pushdef</b>), or
    replace the entire stack of definitions with a single definition (as though
    by <b>undefine</b> and <b>pushdef</b>). An application desiring particular
    behavior for the <b>define</b> macro in this case can redefine it
    accordingly.</p>
<p class="Pp">Applications should use the <b>mkstemp</b> macro instead of the
    obsolescent <b>maketemp</b> macro for creating temporary files.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">If the file <b>m4src</b> contains the lines:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>The value of `VER' is "VER".
ifdef(`VER', ``VER'' is defined to be VER., VER is not defined.)
ifelse(VER, 1, ``VER'' is `VER'.)
ifelse(VER, 2, ``VER'' is `VER'., ``VER'' is not 2.)
end</pre>
</div>
<p class="Pp">then the command</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>m4 m4src</pre>
</div>
<p class="Pp">or the command:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>m4 -U VER m4src</pre>
</div>
<p class="Pp">produces the output:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>The value of VER is "VER".
VER is not defined.</pre>
<pre>VER is not 2.
end</pre>
</div>
<p class="Pp">The command:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>m4 -D VER m4src</pre>
</div>
<p class="Pp">produces the output:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>The value of VER is "".
VER is defined to be .</pre>
<pre>VER is not 2.
end</pre>
</div>
<p class="Pp">The command:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>m4 -D VER=1 m4src</pre>
</div>
<p class="Pp">produces the output:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>The value of VER is "1".
VER is defined to be 1.
VER is 1.
VER is not 2.
end</pre>
</div>
<p class="Pp">The command:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>m4 -D VER=2 m4src</pre>
</div>
<p class="Pp">produces the output:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>The value of VER is "2".
VER is defined to be 2.</pre>
<pre>VER is 2.
end</pre>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="RATIONALE"><a class="permalink" href="#RATIONALE">RATIONALE</a></h1>
<p class="Pp">Historic System V-based behavior treated <b>"${"</b> in
    a macro definition as two literal characters. However, this sequence is left
    unspecified so that implementations may offer extensions such as
    <b>"${11}"</b> meaning the eleventh positional parameter. Macros
    can still be defined with appropriate uses of nested quoting to result in a
    literal <b>"${"</b> in the output after rescanning removes the
    nested quotes.</p>
<p class="Pp">In the <b>translit</b> built-in, historic System V-based behavior
    treated <b>'-'</b> as a literal; GNU behavior treats it as a range. This
    version of the standard allows either behavior.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FUTURE_DIRECTIONS"><a class="permalink" href="#FUTURE_DIRECTIONS">FUTURE
  DIRECTIONS</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><i><i>c99</i></i></p>
<p class="Pp">The Base Definitions volume of POSIX.1‐2017, <i>Chapter
    8</i>, <i>Environment Variables</i>, <i>Section 12.2</i>, <i>Utility Syntax
    Guidelines</i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Portions of this text are reprinted and reproduced in electronic
    form from IEEE Std 1003.1-2017, Standard for Information Technology --
    Portable Operating System Interface (POSIX), The Open Group Base
    Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of
    Electrical and Electronics Engineers, Inc and The Open Group. In the event
    of any discrepancy between this version and the original IEEE and The Open
    Group Standard, the original IEEE and The Open Group Standard is the referee
    document. The original Standard can be obtained online at
    http://www.opengroup.org/unix/online.html .</p>
<p class="Pp">Any typographical or formatting errors that appear in this page
    are most likely to have been introduced during the conversion of the source
    files to man page format. To report such errors, see
    https://www.kernel.org/doc/man-pages/reporting_bugs.html .</p>
</section>
</div>
<table class="foot">
  <tbody><tr>
    <td class="foot-date">2017</td>
    <td class="foot-os">IEEE/The Open Group</td>
  </tr>
</tbody></table>
</div>


<script id="res-script" src="/res/dist/res/main.js" type="text/javascript"></script>
</body></html>