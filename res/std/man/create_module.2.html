<!DOCTYPE html><html><!-- This is an automatically generated file.  Do not edit.
   Copyright (C) 1996 Free Software Foundation, Inc.
  
   SPDX-License-Identifier: GPL-1.0-or-later
  
   2006-02-09, some reformatting by Luc Van Oostenryck; some
   reformatting and rewordings by mtk
   --><head>
<meta name="dc.identifier" content="res/5e99fea5382177ec83eec26fd8875b45b9c9d4da">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>create_module(2)</title>
<link id="res-style" rel="stylesheet" href="/res/dist/res/style.css" type="text/css">
</head>
<body>
<div id="book-container">
<table class="head">
  <tbody><tr>
    <td class="head-ltitle">create_module(2)</td>
    <td class="head-vol">System Calls Manual</td>
    <td class="head-rtitle">create_module(2)</td>
  </tr>
</tbody></table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">create_module - create a loadable module entry</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre><b>#include &lt;linux/module.h&gt;</b></pre>
<pre><b>[[deprecated]] caddr_t create_module(const char *</b><i>name</i><b>, size_t </b><i>size</i><b>);</b></pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><i>Note</i>: This system call is present only before Linux
  2.6.</p>
<p class="Pp"><b>create_module</b>() attempts to create a loadable module entry
    and reserve the kernel memory that will be needed to hold the module. This
    system call requires privilege.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp">On success, returns the kernel address at which the module will
    reside. On error, -1 is returned and <i>errno</i> is set to indicate the
    error.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ERRORS"><a class="permalink" href="#ERRORS">ERRORS</a></h1>
<dl class="Bl-tag">
  <dt id="EEXIST"><a class="permalink" href="#EEXIST"><b>EEXIST</b></a></dt>
  <dd>A module by that name already exists.</dd>
  <dt id="EFAULT"><a class="permalink" href="#EFAULT"><b>EFAULT</b></a></dt>
  <dd><i>name</i> is outside the program's accessible address space.</dd>
  <dt id="EINVAL"><a class="permalink" href="#EINVAL"><b>EINVAL</b></a></dt>
  <dd>The requested size is too small even for the module header
    information.</dd>
  <dt id="ENOMEM"><a class="permalink" href="#ENOMEM"><b>ENOMEM</b></a></dt>
  <dd>The kernel could not allocate a contiguous block of memory large enough
      for the module.</dd>
  <dt id="ENOSYS"><a class="permalink" href="#ENOSYS"><b>ENOSYS</b></a></dt>
  <dd><b>create_module</b>() is not supported in this version of the kernel
      (e.g., Linux 2.6 or later).</dd>
  <dt id="EPERM"><a class="permalink" href="#EPERM"><b>EPERM</b></a></dt>
  <dd>The caller was not privileged (did not have the <b>CAP_SYS_MODULE</b>
      capability).</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSIONS"><a class="permalink" href="#VERSIONS">VERSIONS</a></h1>
<p class="Pp">This system call is present only up until Linux 2.4; it was
    removed in Linux 2.6.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STANDARDS"><a class="permalink" href="#STANDARDS">STANDARDS</a></h1>
<p class="Pp"><b>create_module</b>() is Linux-specific.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="NOTES"><a class="permalink" href="#NOTES">NOTES</a></h1>
<p class="Pp">This obsolete system call is not supported by glibc. No
    declaration is provided in glibc headers, but, through a quirk of history,
    glibc versions before glibc 2.23 did export an ABI for this system call.
    Therefore, in order to employ this system call, it was sufficient to
    manually declare the interface in your code; alternatively, you could invoke
    the system call using <b>syscall</b>(2).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>delete_module</b>(2), <b>init_module</b>(2),
    <b>query_module</b>(2)</p>
</section>
</div>
<table class="foot">
  <tbody><tr>
    <td class="foot-date">(date)</td>
    <td class="foot-os">Linux man-pages (unreleased)</td>
  </tr>
</tbody></table>
</div>


<script id="res-script" src="/res/dist/res/main.js" type="text/javascript"></script>
</body></html>