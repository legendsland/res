<!DOCTYPE html><html><!-- This is an automatically generated file.  Do not edit.
   et
 --><head>
<meta name="dc.identifier" content="res/59436bd7a190517f1602c3c850f250a2cc747de1">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>ENV(1P)</title>
<link id="res-style" rel="stylesheet" href="/res/dist/res/style.css" type="text/css">
</head>
<body>
<div id="book-container">
<table class="head">
  <tbody><tr>
    <td class="head-ltitle">ENV(1P)</td>
    <td class="head-vol">POSIX Programmer's Manual</td>
    <td class="head-rtitle">ENV(1P)</td>
  </tr>
</tbody></table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="PROLOG"><a class="permalink" href="#PROLOG">PROLOG</a></h1>
<p class="Pp">This manual page is part of the POSIX Programmer's Manual. The
    Linux implementation of this interface may differ (consult the corresponding
    Linux manual page for details of Linux behavior), or the interface may not
    be implemented on Linux.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">env — set the environment for command invocation</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>env <b>[</b>-i<b>] [</b><i>name</i>=<i>value</i><b>]</b>... <b>[</b><i>utility</i><b> [</b><i>argument</i>...<b>]]</b></pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <i>env</i> utility shall obtain the current environment,
    modify it according to its arguments, then invoke the utility named by the
    <i>utility</i> operand with the modified environment.</p>
<p class="Pp">Optional arguments shall be passed to <i>utility</i>.</p>
<p class="Pp">If no <i>utility</i> operand is specified, the resulting
    environment shall be written to the standard output, with one
    <i>name</i>=<i>value</i> pair per line.</p>
<p class="Pp">If the first argument is <b>'-'</b>, the results are
  unspecified.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp">The <i>env</i> utility shall conform to the Base Definitions
    volume of POSIX.1‐2017, <i>Section 12.2</i>, <i>Utility Syntax
    Guidelines</i>, except for the unspecified usage of <b>'-'</b>.</p>
<p class="Pp">The following options shall be supported:</p>
<dl class="Bl-tag">
  <dt id="i"><a class="permalink" href="#i"><b>-i</b></a></dt>
  <dd>Invoke <i>utility</i> with exactly the environment specified by the
      arguments; the inherited environment shall be ignored completely.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="OPERANDS"><a class="permalink" href="#OPERANDS">OPERANDS</a></h1>
<p class="Pp">The following operands shall be supported:</p>
<dl class="Bl-tag">
  <dt id="name"><a class="permalink" href="#name"><i>name</i>=<i>value</i></a></dt>
  <dd>Arguments of the form <i>name</i>=<i>value</i> shall modify the execution
      environment, and shall be placed into the inherited environment before the
      <i>utility</i> is invoked.</dd>
  <dt id="utility"><a class="permalink" href="#utility"><i>utility</i></a></dt>
  <dd>The name of the utility to be invoked. If the <i>utility</i> operand names
      any of the special built-in utilities in <i>Section 2.14</i>, <i>Special
      Built-In Utilities</i>, the results are undefined.</dd>
  <dt id="argument"><a class="permalink" href="#argument"><i>argument</i></a></dt>
  <dd>A string to pass as an argument for the invoked utility.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="STDIN"><a class="permalink" href="#STDIN">STDIN</a></h1>
<p class="Pp">Not used.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="INPUT_FILES"><a class="permalink" href="#INPUT_FILES">INPUT
  FILES</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT_VARIABLES"><a class="permalink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<p class="Pp">The following environment variables shall affect the execution of
    <i>env</i>:</p>
<dl class="Bl-tag">
  <dt id="LANG"><a class="permalink" href="#LANG"><i>LANG</i></a></dt>
  <dd>Provide a default value for the internationalization variables that are
      unset or null. (See the Base Definitions volume of POSIX.1‐2017,
      <i>Section 8.2</i>, <i>Internationalization Variables</i> for the
      precedence of internationalization variables used to determine the values
      of locale categories.)</dd>
  <dt id="LC_ALL"><a class="permalink" href="#LC_ALL"><i>LC_ALL</i></a></dt>
  <dd>If set to a non-empty string value, override the values of all the other
      internationalization variables.</dd>
  <dt id="LC_CTYPE"><a class="permalink" href="#LC_CTYPE"><i>LC_CTYPE</i></a></dt>
  <dd>Determine the locale for the interpretation of sequences of bytes of text
      data as characters (for example, single-byte as opposed to multi-byte
      characters in arguments).</dd>
  <dt id="LC_MESSAGES"><a class="permalink" href="#LC_MESSAGES"><i>LC_MESSAGES</i></a></dt>
  <dd>
    <br>
    Determine the locale that should be used to affect the format and contents
      of diagnostic messages written to standard error.</dd>
  <dt id="NLSPATH"><a class="permalink" href="#NLSPATH"><i>NLSPATH</i></a></dt>
  <dd>Determine the location of message catalogs for the processing of
      <i>LC_MESSAGES</i>.</dd>
  <dt id="PATH"><a class="permalink" href="#PATH"><i>PATH</i></a></dt>
  <dd>Determine the location of the <i>utility</i>, as described in the Base
      Definitions volume of POSIX.1‐2017, <i>Chapter 8</i>,
      <i>Environment Variables</i>. If <i>PATH</i> is specified as a
      <i>name</i>=<i>value</i> operand to <i>env</i>, the <i>value</i> given
      shall be used in the search for <i>utility</i>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="ASYNCHRONOUS_EVENTS"><a class="permalink" href="#ASYNCHRONOUS_EVENTS">ASYNCHRONOUS
  EVENTS</a></h1>
<p class="Pp">Default.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STDOUT"><a class="permalink" href="#STDOUT">STDOUT</a></h1>
<p class="Pp">If no <i>utility</i> operand is specified, each
    <i>name</i>=<i>value</i> pair in the resulting environment shall be written
    in the form:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>"%s=%s\n", &lt;<i>name</i>&gt;, &lt;<i>value</i>&gt;</pre>
</div>
<p class="Pp">If the <i>utility</i> operand is specified, the <i>env</i> utility
    shall not write to standard output.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STDERR"><a class="permalink" href="#STDERR">STDERR</a></h1>
<p class="Pp">The standard error shall be used only for diagnostic messages.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OUTPUT_FILES"><a class="permalink" href="#OUTPUT_FILES">OUTPUT
  FILES</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXTENDED_DESCRIPTION"><a class="permalink" href="#EXTENDED_DESCRIPTION">EXTENDED
  DESCRIPTION</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<p class="Pp">If <i>utility</i> is invoked, the exit status of <i>env</i> shall
    be the exit status of <i>utility</i>; otherwise, the <i>env</i> utility
    shall exit with one of the following values:</p>
<dl class="Bl-tag">
  <dt>&nbsp;&nbsp;&nbsp;&nbsp;0</dt>
  <dd>The <i>env</i> utility completed successfully.</dd>
  <dt>1-125</dt>
  <dd>An error occurred in the <i>env</i> utility.</dd>
  <dt>&nbsp;&nbsp;126</dt>
  <dd>The utility specified by <i>utility</i> was found but could not be
      invoked.</dd>
  <dt>&nbsp;&nbsp;127</dt>
  <dd>The utility specified by <i>utility</i> could not be found.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="CONSEQUENCES_OF_ERRORS"><a class="permalink" href="#CONSEQUENCES_OF_ERRORS">CONSEQUENCES
  OF ERRORS</a></h1>
<p class="Pp">Default.</p>
<p class="Pp"><i>The following sections are informative.</i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="APPLICATION_USAGE"><a class="permalink" href="#APPLICATION_USAGE">APPLICATION
  USAGE</a></h1>
<p class="Pp">The <i>command</i>, <i>env</i>, <i>nice</i>, <i>nohup</i>,
    <i>time</i>, and <i>xargs</i> utilities have been specified to use exit code
    127 if an error occurs so that applications can distinguish ``failure to
    find a utility'' from ``invoked utility exited with an error indication''.
    The value 127 was chosen because it is not commonly used for other meanings;
    most utilities use small values for ``normal error conditions'' and the
    values above 128 can be confused with termination due to receipt of a
    signal. The value 126 was chosen in a similar manner to indicate that the
    utility could be found, but not invoked. Some scripts produce meaningful
    error messages differentiating the 126 and 127 cases. The distinction
    between exit codes 126 and 127 is based on KornShell practice that uses 127
    when all attempts to <i>exec</i> the utility fail with <b>[ENOENT]</b>, and
    uses 126 when any attempt to <i>exec</i> the utility fails for any other
    reason.</p>
<p class="Pp">Historical implementations of the <i>env</i> utility use the
    <i>execvp</i>() or <i>execlp</i>() functions defined in the System
    Interfaces volume of POSIX.1‐2017 to invoke the specified utility;
    this provides better performance and keeps users from having to escape
    characters with special meaning to the shell. Therefore, shell functions,
    special built-ins, and built-ins that are only provided by the shell are not
    found.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">The following command:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>env -i PATH=/mybin:"$PATH" $(getconf V7_ENV) mygrep xyz myfile</pre>
</div>
<p class="Pp">invokes the command <i>mygrep</i> with a new <i>PATH</i> value as
    the only entry in its environment other than any variables required by the
    implementation for conformance. In this case, <i>PATH</i> is used to locate
    <i>mygrep</i>, which is expected to reside in <b>/mybin</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RATIONALE"><a class="permalink" href="#RATIONALE">RATIONALE</a></h1>
<p class="Pp">As with all other utilities that invoke other utilities, this
    volume of POSIX.1‐2017 only specifies what <i>env</i> does with
    standard input, standard output, standard error, input files, and output
    files. If a utility is executed, it is not constrained by the specification
    of input and output by <i>env</i>.</p>
<p class="Pp">The <b>-i</b> option was added to allow the functionality of the
    removed <b>-</b> option in a manner compatible with the Utility Syntax
    Guidelines. It is possible to create a non-conforming environment using the
    <b>-i</b> option, as it may remove environment variables required by the
    implementation for conformance. The following will preserve these
    environment variables as well as preserve the <i>PATH</i> for conforming
    utilities:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>IFS='
'
# The preceding value should be &lt;space&gt;&lt;tab&gt;&lt;newline&gt;.
# Set IFS to its default value.</pre>
<pre>set -f
# disable pathname expansion</pre>
<pre>\unalias -a
# Unset all possible aliases.
# Note that unalias is escaped to prevent an alias
# being used for unalias.
# This step is not strictly necessary, since aliases are not inherited,
# and the ENV environment variable is only used by interactive shells,
# the only way any aliases can exist in a script is if it defines them
# itself.</pre>
<pre>unset -f env getconf
# Ensure env and getconf are not user functions.</pre>
<pre>env -i $(getconf V7_ENV) PATH="$(getconf PATH)" command</pre>
</div>
<p class="Pp">Some have suggested that <i>env</i> is redundant since the same
    effect is achieved by:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>name=value ... utility <b>[</b> argument ... <b>]</b></pre>
</div>
<p class="Pp">The example is equivalent to <i>env</i> when an environment
    variable is being added to the environment of the command, but not when the
    environment is being set to the given value. The <i>env</i> utility also
    writes out the current environment if invoked without arguments. There is
    sufficient functionality beyond what the example provides to justify
    inclusion of <i>env</i>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FUTURE_DIRECTIONS"><a class="permalink" href="#FUTURE_DIRECTIONS">FUTURE
  DIRECTIONS</a></h1>
<p class="Pp">None.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><i>Section 2.14</i>, <i>Special Built-In Utilities</i>, <i>Section
    2.5</i>, <i>Parameters and Variables</i></p>
<p class="Pp">The Base Definitions volume of POSIX.1‐2017, <i>Chapter
    8</i>, <i>Environment Variables</i>, <i>Section 12.2</i>, <i>Utility Syntax
    Guidelines</i></p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Portions of this text are reprinted and reproduced in electronic
    form from IEEE Std 1003.1-2017, Standard for Information Technology --
    Portable Operating System Interface (POSIX), The Open Group Base
    Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of
    Electrical and Electronics Engineers, Inc and The Open Group. In the event
    of any discrepancy between this version and the original IEEE and The Open
    Group Standard, the original IEEE and The Open Group Standard is the referee
    document. The original Standard can be obtained online at
    http://www.opengroup.org/unix/online.html .</p>
<p class="Pp">Any typographical or formatting errors that appear in this page
    are most likely to have been introduced during the conversion of the source
    files to man page format. To report such errors, see
    https://www.kernel.org/doc/man-pages/reporting_bugs.html .</p>
</section>
</div>
<table class="foot">
  <tbody><tr>
    <td class="foot-date">2017</td>
    <td class="foot-os">IEEE/The Open Group</td>
  </tr>
</tbody></table>
</div>


<script id="res-script" src="/res/dist/res/main.js" type="text/javascript"></script>
</body></html>